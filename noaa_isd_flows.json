{"flowContents":{"identifier":"0453ab69-179b-341a-9661-66057aafaa8d","name":"noaa_isd_flows","comments":"NOAA ISD Flow\n\nYears:\n2000, 2010, 2020","position":{"x":0.0,"y":0.0},"processGroups":[{"identifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"grp_noaa_data_etl 2020","comments":"Process data for year 2020","position":{"x":40.0,"y":-48.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"4946fbb0-18fb-365b-a0ab-5cbd8863a1b1","name":"Filter Weather Station Category ID","comments":"","position":{"x":3032.0,"y":416.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","properties":{"file_type_E":"${filename:contains('030910')}","file_type_D":"${filename:contains('037970')}","file_type_C":"${filename:contains('035770')}","Routing Strategy":"Route to Property name","file_type_B":"${filename:contains('035830')}","file_type_F":"${filename:contains('039690')}","file_type_A":"${filename:contains('040180')}"},"propertyDescriptors":{"file_type_E":{"name":"file_type_E","displayName":"file_type_E","identifiesControllerService":false,"sensitive":false},"file_type_D":{"name":"file_type_D","displayName":"file_type_D","identifiesControllerService":false,"sensitive":false},"file_type_C":{"name":"file_type_C","displayName":"file_type_C","identifiesControllerService":false,"sensitive":false},"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"file_type_B":{"name":"file_type_B","displayName":"file_type_B","identifiesControllerService":false,"sensitive":false},"file_type_F":{"name":"file_type_F","displayName":"file_type_F","identifiesControllerService":false,"sensitive":false},"file_type_A":{"name":"file_type_A","displayName":"file_type_A","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["unmatched"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"2437dae9-1b36-3743-845b-c18fb45d142b","name":"List NOAA Data Files","comments":"","position":{"x":3032.0,"y":128.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-aws-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.aws.s3.ListS3","properties":{"write-s3-user-metadata":"false","Proxy Host":null,"list-type":"2","prefix":"#{noaa.isd.prefix}/#{active_year}/","record-writer":null,"proxy-configuration-service":null,"Endpoint Override URL":null,"requester-pays":"false","AWS Credentials Provider service":"8c1d6fa6-01c5-3b86-bed3-30e688b555d3","Listing Batch Size":"100","SSL Context Service":null,"write-s3-object-tags":"false","Signer Override":"Default Signature","Bucket":"noaa-isd-pds","delimiter":"/","Communications Timeout":"30 secs","Region":"us-east-1","Credentials File":null,"min-age":"1 min","proxy-user-name":null,"Proxy Host Port":null,"use-versions":"false"},"propertyDescriptors":{"Proxy Host":{"name":"Proxy Host","displayName":"Proxy Host","identifiesControllerService":false,"sensitive":false},"list-type":{"name":"list-type","displayName":"List Type","identifiesControllerService":false,"sensitive":false},"Access Key":{"name":"Access Key","displayName":"Access Key ID","identifiesControllerService":false,"sensitive":true},"prefix":{"name":"prefix","displayName":"Prefix","identifiesControllerService":false,"sensitive":false},"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false},"Endpoint Override URL":{"name":"Endpoint Override URL","displayName":"Endpoint Override URL","identifiesControllerService":false,"sensitive":false},"requester-pays":{"name":"requester-pays","displayName":"Requester Pays","identifiesControllerService":false,"sensitive":false},"Signer Override":{"name":"Signer Override","displayName":"Signer Override","identifiesControllerService":false,"sensitive":false},"delimiter":{"name":"delimiter","displayName":"Delimiter","identifiesControllerService":false,"sensitive":false},"proxy-user-password":{"name":"proxy-user-password","displayName":"Proxy Password","identifiesControllerService":false,"sensitive":true},"Secret Key":{"name":"Secret Key","displayName":"Secret Access Key","identifiesControllerService":false,"sensitive":true},"min-age":{"name":"min-age","displayName":"Minimum Object Age","identifiesControllerService":false,"sensitive":false},"write-s3-user-metadata":{"name":"write-s3-user-metadata","displayName":"Write User Metadata","identifiesControllerService":false,"sensitive":false},"AWS Credentials Provider service":{"name":"AWS Credentials Provider service","displayName":"AWS Credentials Provider service","identifiesControllerService":true,"sensitive":false},"Listing Batch Size":{"name":"Listing Batch Size","displayName":"Listing Batch Size","identifiesControllerService":false,"sensitive":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"write-s3-object-tags":{"name":"write-s3-object-tags","displayName":"Write Object Tags","identifiesControllerService":false,"sensitive":false},"Bucket":{"name":"Bucket","displayName":"Bucket","identifiesControllerService":false,"sensitive":false},"Communications Timeout":{"name":"Communications Timeout","displayName":"Communications Timeout","identifiesControllerService":false,"sensitive":false},"Region":{"name":"Region","displayName":"Region","identifiesControllerService":false,"sensitive":false},"Credentials File":{"name":"Credentials File","displayName":"Credentials File","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"proxy-user-name":{"name":"proxy-user-name","displayName":"Proxy Username","identifiesControllerService":false,"sensitive":false},"Proxy Host Port":{"name":"Proxy Host Port","displayName":"Proxy Host Port","identifiesControllerService":false,"sensitive":false},"use-versions":{"name":"use-versions","displayName":"Use Versions","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"30 min","schedulingStrategy":"TIMER_DRIVEN","executionNode":"PRIMARY","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"ERROR","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"bad73edd-bd16-338a-8153-60683429735f","name":"UnCompress Flow-File","comments":"","position":{"x":3032.0,"y":824.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.CompressContent","properties":{"Compression Format":"use mime.type attribute","Mode":"decompress","Compression Level":"1","Update Filename":"true"},"propertyDescriptors":{"Compression Format":{"name":"Compression Format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false},"Mode":{"name":"Mode","displayName":"Mode","identifiesControllerService":false,"sensitive":false},"Compression Level":{"name":"Compression Level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false},"Update Filename":{"name":"Update Filename","displayName":"Update Filename","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"1f3d4cb0-5835-3b4d-a2cb-57382219ee63","name":"GetFile","comments":"","position":{"x":3032.0,"y":1840.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.GetFile","properties":{"Keep Source File":"false","Minimum File Age":"2 mins","Polling Interval":"2 sec","Input Directory":"#{gcs.storage.dir}/#{active_year}","Maximum File Age":null,"Batch Size":"10","Maximum File Size":null,"Minimum File Size":"0 B","Ignore Hidden Files":"true","Recurse Subdirectories":"false","File Filter":"[^\\.]*.json","Path Filter":null},"propertyDescriptors":{"Keep Source File":{"name":"Keep Source File","displayName":"Keep Source File","identifiesControllerService":false,"sensitive":false},"Minimum File Age":{"name":"Minimum File Age","displayName":"Minimum File Age","identifiesControllerService":false,"sensitive":false},"Polling Interval":{"name":"Polling Interval","displayName":"Polling Interval","identifiesControllerService":false,"sensitive":false},"Input Directory":{"name":"Input Directory","displayName":"Input Directory","identifiesControllerService":false,"sensitive":false},"Maximum File Age":{"name":"Maximum File Age","displayName":"Maximum File Age","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Maximum File Size":{"name":"Maximum File Size","displayName":"Maximum File Size","identifiesControllerService":false,"sensitive":false},"Minimum File Size":{"name":"Minimum File Size","displayName":"Minimum File Size","identifiesControllerService":false,"sensitive":false},"Ignore Hidden Files":{"name":"Ignore Hidden Files","displayName":"Ignore Hidden Files","identifiesControllerService":false,"sensitive":false},"Recurse Subdirectories":{"name":"Recurse Subdirectories","displayName":"Recurse Subdirectories","identifiesControllerService":false,"sensitive":false},"File Filter":{"name":"File Filter","displayName":"File Filter","identifiesControllerService":false,"sensitive":false},"Path Filter":{"name":"Path Filter","displayName":"Path Filter","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"PRIMARY","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"614bb90e-4c5e-3310-b64d-6d0fb0fe9e99","name":"QueryRecord","comments":"","position":{"x":3032.0,"y":1232.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.QueryRecord","properties":{"cache-schema":"true","dbf-default-precision":"10","record-writer":"af633cbf-1cab-3d52-be42-66a56e10357c","record-reader":"a0c5b58b-0d03-346e-9672-e9974a4fe008","include-zero-record-flowfiles":"false","dbf-default-scale":"3","sql":"SELECT\n  cat_id,\n  CASE\n    WHEN wban = '99999' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      wban\n  END AS wban,\n  obs_date,\n  obs_time,\n  CASE\n    WHEN obs_data_source = '9' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      obs_data_source\n  END AS obs_data_source,\n  CASE\n    WHEN obs_latitude = '99999' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      obs_latitude\n  END AS obs_latitude,\n  CASE\n    WHEN obs_longitude = '99999' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      obs_longitude\n  END AS obs_longitude,\n  CASE\n    WHEN report_code = '99999' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      report_code\n  END AS report_code,\n  obs_elevation,\n  CASE\n    WHEN station_call = '99999' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      station_call\n  END AS station_call,\n  quality_control,\n  CASE\n    WHEN wind_dir_angle = '999' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      wind_dir_angle\n  END AS wind_dir_angle,\n  wind_dir_quality,\n  CASE\n    WHEN wind_type = '9' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      wind_type\n  END AS wind_type,\n  CASE\n    WHEN sky_ceiling = '9999' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      sky_ceiling\n  END AS wind_speed_rate,\n  wind_speed_quality,\n  CASE\n    WHEN sky_ceiling = '99999' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      sky_ceiling\n  END AS sky_ceiling,\n  CASE\n    WHEN sky_ceiling_quality = '9' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      sky_ceiling_quality\n  END AS  sky_ceiling_quality,\n  CASE\n    WHEN sky_ceiling_determination = '9' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      sky_ceiling_determination\n  END AS sky_ceiling_determination,\n  CASE\n    WHEN sky_cavok = '9' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      sky_cavok\n  END AS sky_cavok,\n  CASE\n    WHEN vis_distance = '999999' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      vis_distance\n  END AS vis_distance,\n  vis_distance_quality,\n  CASE\n    WHEN vis_variability = '9' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      vis_variability\n  END AS vis_variability,\n  vis_variability_quality,\n  CASE\n    WHEN air_temp = '9999' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      air_temp\n  END AS air_temp,\n  air_temp_quality,\n  CASE\n    WHEN air_dewpoint_temp = '9999' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      air_dewpoint_temp\n  END AS air_dewpoint_temp,\n  air_dewpoint_temp_quality,\n  CASE\n    WHEN air_pres_msl = '99999' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      air_pres_msl\n  END AS air_pres_msl,\n  air_pres_msl_quality\nFROM FLOWFILE\n"},"propertyDescriptors":{"cache-schema":{"name":"cache-schema","displayName":"Cache Schema","identifiesControllerService":false,"sensitive":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false},"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"include-zero-record-flowfiles":{"name":"include-zero-record-flowfiles","displayName":"Include Zero Record FlowFiles","identifiesControllerService":false,"sensitive":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false},"sql":{"name":"sql","displayName":"sql","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"ERROR","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"f543f4a1-c582-3802-8390-b6ca74c4c979","name":"Parse Fixed-Width to CSV","comments":"","position":{"x":3032.0,"y":952.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.ReplaceText","properties":{"Regular Expression":"(.{4})(.{6})(.{5})(.{8})(.{4})(.{1})(.{6})(.{7})(.{5})(.{5})(.{5})(.{4})(.{3})(.{1})(.{1})(.{4})(.{1})(.{5})(.{1})(.{1})(.{1})(.{6})(.{1})(.{1})(.{1})(.{5})(.{1})(.{5})(.{1})(.{5})(.{1}).*","Replacement Value":"$1|$2|$3|$4|$5|$6|$7|$8|$9|$10|$11|$12|$13|$14|$15|$16|$17|$18|$19|$20|$21|$22|$23|$24|$25|$26|$27|$28|$29|$30|$31","Evaluation Mode":"Line-by-Line","Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace"},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"b8ccc4fa-979d-3372-bce8-d991bec18dc7","name":"LogAttribute","comments":"","position":{"x":3032.0,"y":2120.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.LogAttribute","properties":{"Log prefix":null,"character-set":"UTF-8","Log Level":"info","attributes-to-ignore-regex":null,"Attributes to Ignore":null,"Attributes to Log":null,"attributes-to-log-regex":".*","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"name":"Log prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false},"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"Log Level":{"name":"Log Level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false},"attributes-to-ignore-regex":{"name":"attributes-to-ignore-regex","displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"sensitive":false},"Attributes to Ignore":{"name":"Attributes to Ignore","displayName":"Attributes to Ignore","identifiesControllerService":false,"sensitive":false},"Attributes to Log":{"name":"Attributes to Log","displayName":"Attributes to Log","identifiesControllerService":false,"sensitive":false},"attributes-to-log-regex":{"name":"attributes-to-log-regex","displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"sensitive":false},"Log Payload":{"name":"Log Payload","displayName":"Log Payload","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"d962675c-8a23-39c1-8847-265230c5db0a","name":"Download Data File","comments":"","position":{"x":3032.0,"y":560.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-aws-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.aws.s3.FetchS3Object","properties":{"Proxy Host":null,"range-length":null,"range-start":null,"proxy-configuration-service":null,"Endpoint Override URL":null,"requester-pays":"false","Object Key":"${filename}","AWS Credentials Provider service":"8c1d6fa6-01c5-3b86-bed3-30e688b555d3","SSL Context Service":null,"Signer Override":"Default Signature","Bucket":"noaa-isd-pds","Version":null,"Communications Timeout":"30 secs","Region":"us-east-1","Credentials File":null,"proxy-user-name":null,"Proxy Host Port":null,"encryption-service":null},"propertyDescriptors":{"Proxy Host":{"name":"Proxy Host","displayName":"Proxy Host","identifiesControllerService":false,"sensitive":false},"range-length":{"name":"range-length","displayName":"Range Length","identifiesControllerService":false,"sensitive":false},"Access Key":{"name":"Access Key","displayName":"Access Key ID","identifiesControllerService":false,"sensitive":true},"range-start":{"name":"range-start","displayName":"Range Start","identifiesControllerService":false,"sensitive":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false},"Endpoint Override URL":{"name":"Endpoint Override URL","displayName":"Endpoint Override URL","identifiesControllerService":false,"sensitive":false},"requester-pays":{"name":"requester-pays","displayName":"Requester Pays","identifiesControllerService":false,"sensitive":false},"Object Key":{"name":"Object Key","displayName":"Object Key","identifiesControllerService":false,"sensitive":false},"AWS Credentials Provider service":{"name":"AWS Credentials Provider service","displayName":"AWS Credentials Provider service","identifiesControllerService":true,"sensitive":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"Signer Override":{"name":"Signer Override","displayName":"Signer Override","identifiesControllerService":false,"sensitive":false},"Bucket":{"name":"Bucket","displayName":"Bucket","identifiesControllerService":false,"sensitive":false},"Version":{"name":"Version","displayName":"Version","identifiesControllerService":false,"sensitive":false},"proxy-user-password":{"name":"proxy-user-password","displayName":"Proxy Password","identifiesControllerService":false,"sensitive":true},"Communications Timeout":{"name":"Communications Timeout","displayName":"Communications Timeout","identifiesControllerService":false,"sensitive":false},"Region":{"name":"Region","displayName":"Region","identifiesControllerService":false,"sensitive":false},"Secret Key":{"name":"Secret Key","displayName":"Secret Access Key","identifiesControllerService":false,"sensitive":true},"Credentials File":{"name":"Credentials File","displayName":"Credentials File","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"proxy-user-name":{"name":"proxy-user-name","displayName":"Proxy Username","identifiesControllerService":false,"sensitive":false},"Proxy Host Port":{"name":"Proxy Host Port","displayName":"Proxy Host Port","identifiesControllerService":false,"sensitive":false},"encryption-service":{"name":"encryption-service","displayName":"Encryption Service","identifiesControllerService":true,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"ERROR","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"a68d08b1-f3d5-393f-b260-5ddc4e948dbc","name":"UpdateAttribute","comments":"","position":{"x":3032.0,"y":1504.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","properties":{"Delete Attributes Expression":null,"filename":"${UUID()}.json","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"filename":{"name":"filename","displayName":"filename","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"70ac7292-2cc7-3407-88d8-64846d28565b","name":"IdentifyMimeType","comments":"","position":{"x":3032.0,"y":696.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.IdentifyMimeType","properties":{"config-file":null,"use-filename-in-detection":"true","config-body":null},"propertyDescriptors":{"config-file":{"name":"config-file","displayName":"Config File","identifiesControllerService":false,"sensitive":false},"use-filename-in-detection":{"name":"use-filename-in-detection","displayName":"Use Filename In Detection","identifiesControllerService":false,"sensitive":false},"config-body":{"name":"config-body","displayName":"Config Body","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"5d4adfae-2288-38d4-b4ac-0f3bd95ce908","name":"PutGCSObject","comments":"","position":{"x":3032.0,"y":1976.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-gcp-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.gcp.storage.PutGCSObject","properties":{"gcp-proxy-host":null,"gcs-content-disposition-type":null,"gcp-retry-count":"6","proxy-configuration-service":null,"gcs-overwrite-object":"true","gcp-proxy-user-name":null,"gcs-object-md5":null,"gcs-content-type":"${mime.type}","gcs-object-crc32c":null,"gcp-project-id":"dtc-de-338616","GCP Credentials Provider Service":"5728e3c5-fe5a-363a-8a75-f3bcad18991c","gcs-key":"#{active_year}/${filename}","gcp-proxy-port":null,"gcs-bucket":"#{gcs.bucket.noaa}","gcs-object-acl":null},"propertyDescriptors":{"gcp-proxy-host":{"name":"gcp-proxy-host","displayName":"Proxy host","identifiesControllerService":false,"sensitive":false},"gcs-content-disposition-type":{"name":"gcs-content-disposition-type","displayName":"Content Disposition Type","identifiesControllerService":false,"sensitive":false},"gcp-retry-count":{"name":"gcp-retry-count","displayName":"Number of retries","identifiesControllerService":false,"sensitive":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false},"gcs-server-side-encryption-key":{"name":"gcs-server-side-encryption-key","displayName":"Server Side Encryption Key","identifiesControllerService":false,"sensitive":true},"gcs-overwrite-object":{"name":"gcs-overwrite-object","displayName":"Overwrite Object","identifiesControllerService":false,"sensitive":false},"gcp-proxy-user-name":{"name":"gcp-proxy-user-name","displayName":"HTTP Proxy Username","identifiesControllerService":false,"sensitive":false},"gcs-object-md5":{"name":"gcs-object-md5","displayName":"MD5 Hash","identifiesControllerService":false,"sensitive":false},"gcs-content-type":{"name":"gcs-content-type","displayName":"Content Type","identifiesControllerService":false,"sensitive":false},"gcs-object-crc32c":{"name":"gcs-object-crc32c","displayName":"CRC32C Checksum","identifiesControllerService":false,"sensitive":false},"gcp-project-id":{"name":"gcp-project-id","displayName":"Project ID","identifiesControllerService":false,"sensitive":false},"GCP Credentials Provider Service":{"name":"GCP Credentials Provider Service","displayName":"GCP Credentials Provider Service","identifiesControllerService":true,"sensitive":false},"gcs-key":{"name":"gcs-key","displayName":"Key","identifiesControllerService":false,"sensitive":false},"gcp-proxy-user-password":{"name":"gcp-proxy-user-password","displayName":"HTTP Proxy Password","identifiesControllerService":false,"sensitive":true},"gcp-proxy-port":{"name":"gcp-proxy-port","displayName":"Proxy port","identifiesControllerService":false,"sensitive":false},"gcs-bucket":{"name":"gcs-bucket","displayName":"Bucket","identifiesControllerService":false,"sensitive":false},"gcs-object-acl":{"name":"gcs-object-acl","displayName":"Object ACL","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"754bafac-b2ca-366e-8b1a-a952c6fa20c2","name":"PutFile","comments":"","position":{"x":3032.0,"y":1648.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.PutFile","properties":{"Group":null,"Owner":null,"Create Missing Directories":"true","Permissions":null,"Maximum File Count":null,"Last Modified Time":null,"Directory":"#{noaa.isd.staging}/#{active_year}","Conflict Resolution Strategy":"replace"},"propertyDescriptors":{"Group":{"name":"Group","displayName":"Group","identifiesControllerService":false,"sensitive":false},"Owner":{"name":"Owner","displayName":"Owner","identifiesControllerService":false,"sensitive":false},"Create Missing Directories":{"name":"Create Missing Directories","displayName":"Create Missing Directories","identifiesControllerService":false,"sensitive":false},"Permissions":{"name":"Permissions","displayName":"Permissions","identifiesControllerService":false,"sensitive":false},"Maximum File Count":{"name":"Maximum File Count","displayName":"Maximum File Count","identifiesControllerService":false,"sensitive":false},"Last Modified Time":{"name":"Last Modified Time","displayName":"Last Modified Time","identifiesControllerService":false,"sensitive":false},"Directory":{"name":"Directory","displayName":"Directory","identifiesControllerService":false,"sensitive":false},"Conflict Resolution Strategy":{"name":"Conflict Resolution Strategy","displayName":"Conflict Resolution Strategy","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"ERROR","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"0f85c141-8049-393b-b91d-9e656ed083b2","name":"MergeRecord","comments":"","position":{"x":3032.0,"y":1368.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.MergeRecord","properties":{"max-bin-age":null,"correlation-attribute-name":null,"Attribute Strategy":"Keep Only Common Attributes","min-records":"1","max-bin-size":null,"record-writer":"af633cbf-1cab-3d52-be42-66a56e10357c","merge-strategy":"Bin-Packing Algorithm","record-reader":"a0c5b58b-0d03-346e-9672-e9974a4fe008","max-records":"1000","min-bin-size":"0 B","max.bin.count":"5"},"propertyDescriptors":{"max-bin-age":{"name":"max-bin-age","displayName":"Max Bin Age","identifiesControllerService":false,"sensitive":false},"correlation-attribute-name":{"name":"correlation-attribute-name","displayName":"Correlation Attribute Name","identifiesControllerService":false,"sensitive":false},"Attribute Strategy":{"name":"Attribute Strategy","displayName":"Attribute Strategy","identifiesControllerService":false,"sensitive":false},"min-records":{"name":"min-records","displayName":"Minimum Number of Records","identifiesControllerService":false,"sensitive":false},"max-bin-size":{"name":"max-bin-size","displayName":"Maximum Bin Size","identifiesControllerService":false,"sensitive":false},"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"merge-strategy":{"name":"merge-strategy","displayName":"Merge Strategy","identifiesControllerService":false,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"max-records":{"name":"max-records","displayName":"Maximum Number of Records","identifiesControllerService":false,"sensitive":false},"min-bin-size":{"name":"min-bin-size","displayName":"Minimum Bin Size","identifiesControllerService":false,"sensitive":false},"max.bin.count":{"name":"max.bin.count","displayName":"Maximum Number of Bins","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"9088016c-1563-3a72-8529-f75be4a714d7","name":"Control Data Flow Rate","comments":"","position":{"x":3032.0,"y":264.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.ControlRate","properties":{"Time Duration":"1 min","Grouping Attribute":null,"Maximum Rate":"500","Rate Controlled Attribute":null,"Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"name":"Time Duration","displayName":"Time Duration","identifiesControllerService":false,"sensitive":false},"Grouping Attribute":{"name":"Grouping Attribute","displayName":"Grouping Attribute","identifiesControllerService":false,"sensitive":false},"Maximum Rate":{"name":"Maximum Rate","displayName":"Maximum Rate","identifiesControllerService":false,"sensitive":false},"Rate Controlled Attribute":{"name":"Rate Controlled Attribute","displayName":"Rate Controlled Attribute","identifiesControllerService":false,"sensitive":false},"Rate Control Criteria":{"name":"Rate Control Criteria","displayName":"Rate Control Criteria","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"ERROR","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"c3b4c1a8-641d-30d1-9209-438baf877441","name":"Terminator","comments":"","position":{"x":4064.0,"y":984.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.15.3"},"style":{"background-color":"#b3716e"},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"8eeaef4e-7863-312f-8f6f-9cadb7e600f5","name":"Convert CSV Record to  JSON","comments":"","position":{"x":3032.0,"y":1096.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.ConvertRecord","properties":{"record-writer":"af633cbf-1cab-3d52-be42-66a56e10357c","record-reader":"2c687141-0863-3845-b5d0-cd5bf282fdf7","include-zero-record-flowfiles":"false"},"propertyDescriptors":{"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"include-zero-record-flowfiles":{"name":"include-zero-record-flowfiles","displayName":"Include Zero Record FlowFiles","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"}],"inputPorts":[],"outputPorts":[],"connections":[{"identifier":"70e62f80-c499-377d-9a73-a31b9bb412c1","name":"","source":{"id":"8eeaef4e-7863-312f-8f6f-9cadb7e600f5","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"Convert CSV Record to  JSON","comments":""},"destination":{"id":"c3b4c1a8-641d-30d1-9209-438baf877441","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"Terminator","comments":""},"labelIndex":0,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":3648.0,"y":1168.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"02b8bdde-fa1f-3b5b-a39b-509c061f9a4c","name":"","source":{"id":"bad73edd-bd16-338a-8153-60683429735f","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"UnCompress Flow-File","comments":""},"destination":{"id":"c3b4c1a8-641d-30d1-9209-438baf877441","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"Terminator","comments":""},"labelIndex":0,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":3944.0,"y":880.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"f6d81712-5db2-364b-be7e-be0c298b971d","name":"","source":{"id":"9088016c-1563-3a72-8529-f75be4a714d7","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"Control Data Flow Rate","comments":""},"destination":{"id":"c3b4c1a8-641d-30d1-9209-438baf877441","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"Terminator","comments":""},"labelIndex":0,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":4064.0,"y":328.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"660950f1-b78c-365a-8b5b-364645008a8d","name":"","source":{"id":"0f85c141-8049-393b-b91d-9e656ed083b2","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"MergeRecord","comments":""},"destination":{"id":"a68d08b1-f3d5-393f-b260-5ddc4e948dbc","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"UpdateAttribute","comments":""},"labelIndex":0,"zIndex":0,"selectedRelationships":["merged"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2776.0,"y":1520.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"83813731-30ac-3d47-af78-2c4acd847bce","name":"","source":{"id":"754bafac-b2ca-366e-8b1a-a952c6fa20c2","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"PutFile","comments":""},"destination":{"id":"c3b4c1a8-641d-30d1-9209-438baf877441","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"Terminator","comments":""},"labelIndex":0,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":4160.0,"y":1560.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"af6168ab-1e69-309f-87fa-49afb620d941","name":"","source":{"id":"bad73edd-bd16-338a-8153-60683429735f","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"UnCompress Flow-File","comments":""},"destination":{"id":"f543f4a1-c582-3802-8390-b6ca74c4c979","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"Parse Fixed-Width to CSV","comments":""},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2792.0,"y":968.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"64d5db2a-5ff5-304a-8383-5c0cea98f2c4","name":"","source":{"id":"d962675c-8a23-39c1-8847-265230c5db0a","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"Download Data File","comments":""},"destination":{"id":"c3b4c1a8-641d-30d1-9209-438baf877441","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"Terminator","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":3968.0,"y":624.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"33376a8f-cac3-3ff6-9916-2694212df912","name":"","source":{"id":"614bb90e-4c5e-3310-b64d-6d0fb0fe9e99","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"QueryRecord","comments":""},"destination":{"id":"0f85c141-8049-393b-b91d-9e656ed083b2","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"MergeRecord","comments":""},"labelIndex":0,"zIndex":0,"selectedRelationships":["sql"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2776.0,"y":1328.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"5a257d9d-5199-34aa-b9d6-ee20a1193933","name":"","source":{"id":"614bb90e-4c5e-3310-b64d-6d0fb0fe9e99","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"QueryRecord","comments":""},"destination":{"id":"c3b4c1a8-641d-30d1-9209-438baf877441","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"Terminator","comments":""},"labelIndex":0,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":3752.0,"y":1176.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"c49996a4-8a52-3902-b9a2-9e03414057a0","name":"","source":{"id":"5d4adfae-2288-38d4-b4ac-0f3bd95ce908","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"PutGCSObject","comments":""},"destination":{"id":"b8ccc4fa-979d-3372-bce8-d991bec18dc7","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"LogAttribute","comments":""},"labelIndex":0,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2872.0,"y":2128.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"e8d868fa-23e7-3797-85ac-829ed5143e9b","name":"","source":{"id":"8eeaef4e-7863-312f-8f6f-9cadb7e600f5","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"Convert CSV Record to  JSON","comments":""},"destination":{"id":"614bb90e-4c5e-3310-b64d-6d0fb0fe9e99","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"QueryRecord","comments":""},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2776.0,"y":1224.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"2438efd8-16f3-325b-bde3-be552c776032","name":"","source":{"id":"4946fbb0-18fb-365b-a0ab-5cbd8863a1b1","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"Filter Weather Station Category ID","comments":""},"destination":{"id":"d962675c-8a23-39c1-8847-265230c5db0a","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"Download Data File","comments":""},"labelIndex":0,"zIndex":0,"selectedRelationships":["file_type_E","file_type_D","file_type_C","file_type_B","file_type_F","file_type_A"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2816.0,"y":560.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"0e7fd39e-fcce-33d0-8b6e-08b73a79044c","name":"","source":{"id":"9088016c-1563-3a72-8529-f75be4a714d7","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"Control Data Flow Rate","comments":""},"destination":{"id":"4946fbb0-18fb-365b-a0ab-5cbd8863a1b1","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"Filter Weather Station Category ID","comments":""},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2824.0,"y":400.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"0e8917cf-9b2d-301f-b7b2-324e8886d25b","name":"","source":{"id":"0f85c141-8049-393b-b91d-9e656ed083b2","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"MergeRecord","comments":""},"destination":{"id":"c3b4c1a8-641d-30d1-9209-438baf877441","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"Terminator","comments":""},"labelIndex":0,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":3896.0,"y":1384.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"32b254e7-40bd-3aa4-b32d-4445ec60dd8d","name":"","source":{"id":"a68d08b1-f3d5-393f-b260-5ddc4e948dbc","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"UpdateAttribute","comments":""},"destination":{"id":"754bafac-b2ca-366e-8b1a-a952c6fa20c2","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"PutFile","comments":""},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2768.0,"y":1672.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"69e4b0b5-5045-32b6-9f08-f34d3b6ace6f","name":"","source":{"id":"1f3d4cb0-5835-3b4d-a2cb-57382219ee63","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"GetFile","comments":""},"destination":{"id":"5d4adfae-2288-38d4-b4ac-0f3bd95ce908","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"PutGCSObject","comments":""},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2872.0,"y":1976.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"07374e41-44aa-3ea0-b45a-269160ee0bd6","name":"","source":{"id":"f543f4a1-c582-3802-8390-b6ca74c4c979","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"Parse Fixed-Width to CSV","comments":""},"destination":{"id":"c3b4c1a8-641d-30d1-9209-438baf877441","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"Terminator","comments":""},"labelIndex":0,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":3656.0,"y":1096.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"d9709381-13db-3d23-9f83-ced569c22ab2","name":"","source":{"id":"f543f4a1-c582-3802-8390-b6ca74c4c979","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"Parse Fixed-Width to CSV","comments":""},"destination":{"id":"8eeaef4e-7863-312f-8f6f-9cadb7e600f5","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"Convert CSV Record to  JSON","comments":""},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2784.0,"y":1080.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"04777c5f-088a-3728-93ba-7c4b83f5a17e","name":"","source":{"id":"2437dae9-1b36-3743-845b-c18fb45d142b","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"List NOAA Data Files","comments":""},"destination":{"id":"9088016c-1563-3a72-8529-f75be4a714d7","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"Control Data Flow Rate","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2840.0,"y":240.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"88bbce0b-5dd6-35da-9367-2461b63a8e39","name":"","source":{"id":"70ac7292-2cc7-3407-88d8-64846d28565b","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"IdentifyMimeType","comments":""},"destination":{"id":"bad73edd-bd16-338a-8153-60683429735f","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"UnCompress Flow-File","comments":""},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2800.0,"y":832.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"9bcf8a15-15dd-34af-b624-606a728540a1","name":"","source":{"id":"d962675c-8a23-39c1-8847-265230c5db0a","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"Download Data File","comments":""},"destination":{"id":"70ac7292-2cc7-3407-88d8-64846d28565b","type":"PROCESSOR","groupId":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444","name":"IdentifyMimeType","comments":""},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"bends":[{"x":2808.0,"y":688.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"}],"labels":[{"identifier":"e952ed19-b936-3ecd-ab71-9f689960cf9a","position":{"x":4256.0,"y":1136.0},"label":"Log status and terminate flow.","width":304.0,"height":64.0,"style":{"font-size":"18px"},"componentType":"LABEL","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"5f8112f0-6717-3b12-9864-366ddb43e864","position":{"x":3400.0,"y":424.0},"label":"Fetch the Gzip compressed files from AWS S3.","width":536.0,"height":80.0,"style":{"font-size":"18px"},"componentType":"LABEL","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"445524a4-d7de-39c6-b119-f12a13e61641","position":{"x":3392.0,"y":1280.0},"label":"Select flow-file and convert missing data indicator '9999' values to NULL.","width":616.0,"height":72.0,"style":{"font-size":"18px"},"componentType":"LABEL","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"0ec0ac90-f93c-3d50-95b5-29d0b648bf27","position":{"x":3400.0,"y":336.0},"label":"Limit download control rate. \nFilter on category-ID/file-prefix \"040180\" and \"035830\".","width":536.0,"height":64.0,"style":{"font-size":"18px"},"componentType":"LABEL","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"9eeeac5c-f0bc-328a-b979-1b8b325392a0","position":{"x":3392.0,"y":1432.0},"label":"Combine individual flow-file records into batches of 1000 records.","width":568.0,"height":64.0,"style":{"font-size":"18px"},"componentType":"LABEL","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"79a9989e-d574-313f-af6b-69c292897545","position":{"x":3392.0,"y":1704.0},"label":"Save the flow-file to the UNIX file system.","width":544.0,"height":56.0,"style":{"font-size":"18px"},"componentType":"LABEL","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"77cb520f-f3cc-35e1-9ee2-40d9ba4b0891","position":{"x":3392.0,"y":1840.0},"label":"Get previously downloaded JSON files and \nUpload processed files to GCS bucket.","width":552.0,"height":408.0,"style":{"font-size":"18px"},"componentType":"LABEL","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"44abc39d-3d2f-3b03-9050-61cb86cb6acc","position":{"x":3392.0,"y":1504.0},"label":"Set a UUID random file name for the output batches.","width":568.0,"height":48.0,"style":{"font-size":"18px"},"componentType":"LABEL","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"6b1e2db0-3f20-3fe7-85df-47861a7ead28","position":{"x":3400.0,"y":120.0},"label":"List the data available on AWS S3 for the year 2020.","width":496.0,"height":80.0,"style":{"font-size":"18px"},"componentType":"LABEL","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"80584577-32cd-343c-8a94-9572cb113cfd","position":{"x":3392.0,"y":712.0},"label":"Identify the type of file-compression (mime type) \nthen uncompress / gunzip the downloaded files.","width":544.0,"height":80.0,"style":{"font-size":"18px"},"componentType":"LABEL","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"b7c3b2fb-35b0-3174-9436-ea3faa971a4a","position":{"x":2856.0,"y":-96.0},"label":"DTC Data Engineering Zoom Camp\nFebruary 2022\n\n\nNOAA Integrated Surface Database (ISD) ","width":776.0,"height":144.0,"style":{"font-size":"20px"},"componentType":"LABEL","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"0f957e99-3643-32c6-868d-574f275716be","position":{"x":3392.0,"y":960.0},"label":"The uncompressed fixed-width files are converted \nto pipe-delimited.\n\nhttps://www.ncei.noaa.gov/data/global-hourly/doc/isd-format-document.pdf","width":640.0,"height":104.0,"style":{"font-size":"18px"},"componentType":"LABEL","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"}],"funnels":[],"controllerServices":[{"identifier":"af633cbf-1cab-3d52-be42-66a56e10357c","name":"JsonRecordSetWriter","comments":"","type":"org.apache.nifi.json.JsonRecordSetWriter","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.15.3"},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordSetWriterFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.15.3"}}],"properties":{"schema-branch":null,"compression-level":"1","schema-cache":null,"Timestamp Format":null,"Date Format":null,"Pretty Print JSON":"false","compression-format":"none","Schema Write Strategy":"schema-name","suppress-nulls":"never-suppress","output-grouping":"output-oneline","schema-name":"NoaaSchema","schema-registry":"f687a677-63e8-37bc-aa8e-c7a4f02fa6e3","Time Format":null,"schema-access-strategy":"schema-name","schema-protocol-version":"1","schema-version":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"compression-level":{"name":"compression-level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false},"schema-cache":{"name":"schema-cache","displayName":"Schema Cache","identifiesControllerService":true,"sensitive":false},"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false},"Pretty Print JSON":{"name":"Pretty Print JSON","displayName":"Pretty Print JSON","identifiesControllerService":false,"sensitive":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false},"Schema Write Strategy":{"name":"Schema Write Strategy","displayName":"Schema Write Strategy","identifiesControllerService":false,"sensitive":false},"suppress-nulls":{"name":"suppress-nulls","displayName":"Suppress Null Values","identifiesControllerService":false,"sensitive":false},"output-grouping":{"name":"output-grouping","displayName":"Output Grouping","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-protocol-version":{"name":"schema-protocol-version","displayName":"Schema Protocol Version","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"componentType":"CONTROLLER_SERVICE","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"f687a677-63e8-37bc-aa8e-c7a4f02fa6e3","name":"AvroSchemaRegistry","comments":"","type":"org.apache.nifi.schemaregistry.services.AvroSchemaRegistry","bundle":{"group":"org.apache.nifi","artifact":"nifi-registry-nar","version":"1.15.3"},"controllerServiceApis":[{"type":"org.apache.nifi.schemaregistry.services.SchemaRegistry","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.15.3"}}],"properties":{"OutputSchemaNoaa":"{     \"type\": \"record\",\n     \"namespace\": \"measurements\",\n     \"name\": \"measurement\",\n     \"fields\": [\n         {\"name\": \"tot_var_chars\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"cat_id\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wban\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_date\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_time\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_data_source\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_latitude\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"obs_longitude\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"report_code\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_elevation\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"station_call\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"quality_control\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wind_dir_angle\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"wind_dir_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wind_type\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wind_speed_rate\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wind_speed_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"sky_ceiling\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"sky_ceiling_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"sky_ceiling_determination\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"sky_cavok\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"vis_distance\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"vis_distance_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"vis_variability\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"vis_variability_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"air_temp\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"air_temp_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"air_dewpoint_temp\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"air_dewpoint_temp_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"air_pres_msl\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"air_pres_msl_quality\",\"type\": [\"string\",\"null\"]}\n ]\n}","NoaaSchema":"{     \"type\": \"record\",\n     \"namespace\": \"measurements\",\n     \"name\": \"measurement\",\n     \"fields\": [\n         {\"name\": \"tot_var_chars\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"cat_id\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wban\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_date\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_time\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_data_source\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_latitude\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"obs_longitude\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"report_code\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_elevation\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"station_call\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"quality_control\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wind_dir_angle\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"wind_dir_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wind_type\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wind_speed_rate\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wind_speed_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"sky_ceiling\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"sky_ceiling_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"sky_ceiling_determination\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"sky_cavok\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"vis_distance\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"vis_distance_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"vis_variability\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"vis_variability_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"air_temp\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"air_temp_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"air_dewpoint_temp\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"air_dewpoint_temp_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"air_pres_msl\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"air_pres_msl_quality\",\"type\": [\"string\",\"null\"]}\n ]\n}","avro-reg-validated-field-names":"true","InputSchemaNoaa":"{     \"type\": \"record\",\n     \"namespace\": \"measurements\",\n     \"name\": \"measurement\",\n     \"fields\": [\n         {\"name\": \"tot_var_chars\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"cat_id\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wban\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_date\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_time\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_data_source\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_latitude\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"obs_longitude\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"report_code\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_elevation\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"station_call\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"quality_control\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wind_dir_angle\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"wind_dir_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wind_type\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wind_speed_rate\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wind_speed_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"sky_ceiling\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"sky_ceiling_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"sky_ceiling_determination\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"sky_cavok\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"vis_distance\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"vis_distance_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"vis_variability\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"vis_variability_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"air_temp\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"air_temp_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"air_dewpoint_temp\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"air_dewpoint_temp_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"air_pres_msl\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"air_pres_msl_quality\",\"type\": [\"string\",\"null\"]}\n ]\n}","OutputSchemaSmall":"{     \"type\": \"record\",\n     \"namespace\": \"measurements\",\n     \"name\": \"measurement\",\n     \"fields\": [\n         {\"name\": \"cat_id\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wban\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_date\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_time\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_data_source\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_latitude\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"obs_longitude\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"report_code\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_elevation\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"station_call\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"quality_control\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"air_temp\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"air_temp_quality\",\"type\": [\"string\",\"null\"]}\n ]\n}","OutputSchemaMovies":"{     \"type\": \"record\",\n     \"namespace\": \"movies\",\n     \"name\": \"movie\",\n     \"fields\": [\n\n       { \"name\": \"user_id\", \"type\": [\"int\", \"null\"] },\n       { \"name\": \"movie_id\", \"type\": [\"int\", \"null\"] },\n       { \"name\": \"rating\", \"type\": [\"int\", \"null\"] }\n     ]\n}"},"propertyDescriptors":{"OutputSchemaNoaa":{"name":"OutputSchemaNoaa","displayName":"OutputSchemaNoaa","identifiesControllerService":false,"sensitive":false},"NoaaSchema":{"name":"NoaaSchema","displayName":"NoaaSchema","identifiesControllerService":false,"sensitive":false},"avro-reg-validated-field-names":{"name":"avro-reg-validated-field-names","displayName":"Validate Field Names","identifiesControllerService":false,"sensitive":false},"InputSchemaNoaa":{"name":"InputSchemaNoaa","displayName":"InputSchemaNoaa","identifiesControllerService":false,"sensitive":false},"OutputSchemaSmall":{"name":"OutputSchemaSmall","displayName":"OutputSchemaSmall","identifiesControllerService":false,"sensitive":false},"OutputSchemaMovies":{"name":"OutputSchemaMovies","displayName":"OutputSchemaMovies","identifiesControllerService":false,"sensitive":false}},"componentType":"CONTROLLER_SERVICE","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"2c687141-0863-3845-b5d0-cd5bf282fdf7","name":"CSVReader","comments":"","type":"org.apache.nifi.csv.CSVReader","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.15.3"},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordReaderFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.15.3"}}],"properties":{"ignore-csv-header":"false","schema-branch":null,"CSV Format":"custom","Quote Character":"\"","csvutils-allow-duplicate-header-names":"true","Value Separator":"|","Record Separator":"\\n","Timestamp Format":null,"Escape Character":"\\","Date Format":null,"Null String":null,"Skip Header Line":"false","Trim Fields":"true","schema-name":"NoaaSchema","schema-registry":"f687a677-63e8-37bc-aa8e-c7a4f02fa6e3","csv-reader-csv-parser":"commons-csv","Time Format":null,"Comment Marker":null,"schema-access-strategy":"schema-name","schema-version":null,"csvutils-character-set":"UTF-8","schema-text":"${avro.schema}"},"propertyDescriptors":{"ignore-csv-header":{"name":"ignore-csv-header","displayName":"Ignore CSV Header Column Names","identifiesControllerService":false,"sensitive":false},"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"CSV Format":{"name":"CSV Format","displayName":"CSV Format","identifiesControllerService":false,"sensitive":false},"Quote Character":{"name":"Quote Character","displayName":"Quote Character","identifiesControllerService":false,"sensitive":false},"csvutils-allow-duplicate-header-names":{"name":"csvutils-allow-duplicate-header-names","displayName":"Allow Duplicate Header Names","identifiesControllerService":false,"sensitive":false},"Value Separator":{"name":"Value Separator","displayName":"Value Separator","identifiesControllerService":false,"sensitive":false},"Record Separator":{"name":"Record Separator","displayName":"Record Separator","identifiesControllerService":false,"sensitive":false},"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false},"Escape Character":{"name":"Escape Character","displayName":"Escape Character","identifiesControllerService":false,"sensitive":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false},"Null String":{"name":"Null String","displayName":"Null String","identifiesControllerService":false,"sensitive":false},"Skip Header Line":{"name":"Skip Header Line","displayName":"Treat First Line as Header","identifiesControllerService":false,"sensitive":false},"Trim Fields":{"name":"Trim Fields","displayName":"Trim Fields","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"csv-reader-csv-parser":{"name":"csv-reader-csv-parser","displayName":"CSV Parser","identifiesControllerService":false,"sensitive":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false},"Comment Marker":{"name":"Comment Marker","displayName":"Comment Marker","identifiesControllerService":false,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"csvutils-character-set":{"name":"csvutils-character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"componentType":"CONTROLLER_SERVICE","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"5728e3c5-fe5a-363a-8a75-f3bcad18991c","name":"GCPCredentialsControllerService","comments":"","type":"org.apache.nifi.processors.gcp.credentials.service.GCPCredentialsControllerService","bundle":{"group":"org.apache.nifi","artifact":"nifi-gcp-nar","version":"1.15.3"},"controllerServiceApis":[{"type":"org.apache.nifi.gcp.credentials.service.GCPCredentialsService","bundle":{"group":"org.apache.nifi","artifact":"nifi-gcp-services-api-nar","version":"1.15.3"}}],"properties":{"proxy-configuration-service":null,"compute-engine-credentials":"false","application-default-credentials":"false","service-account-json-file":"#{gcp.credentials}"},"propertyDescriptors":{"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false},"compute-engine-credentials":{"name":"compute-engine-credentials","displayName":"Use Compute Engine Credentials","identifiesControllerService":false,"sensitive":false},"application-default-credentials":{"name":"application-default-credentials","displayName":"Use Application Default Credentials","identifiesControllerService":false,"sensitive":false},"service-account-json-file":{"name":"service-account-json-file","displayName":"Service Account JSON File","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"service-account-json":{"name":"service-account-json","displayName":"Service Account JSON","identifiesControllerService":false,"sensitive":true}},"componentType":"CONTROLLER_SERVICE","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"8c1d6fa6-01c5-3b86-bed3-30e688b555d3","name":"AWSCredentialsProviderControllerService","comments":"","type":"org.apache.nifi.processors.aws.credentials.provider.service.AWSCredentialsProviderControllerService","bundle":{"group":"org.apache.nifi","artifact":"nifi-aws-nar","version":"1.15.3"},"controllerServiceApis":[{"type":"org.apache.nifi.processors.aws.credentials.provider.service.AWSCredentialsProviderService","bundle":{"group":"org.apache.nifi","artifact":"nifi-aws-service-api-nar","version":"1.15.3"}}],"properties":{"profile-name":null,"Assume Role Session Name":null,"assume-role-sts-endpoint":null,"assume-role-proxy-host":null,"Credentials File":null,"default-credentials":"false","Session Time":"3600","assume-role-proxy-port":null,"assume-role-external-id":null,"Assume Role ARN":null,"anonymous-credentials":"true"},"propertyDescriptors":{"profile-name":{"name":"profile-name","displayName":"Profile Name","identifiesControllerService":false,"sensitive":false},"Access Key":{"name":"Access Key","displayName":"Access Key ID","identifiesControllerService":false,"sensitive":true},"assume-role-proxy-host":{"name":"assume-role-proxy-host","displayName":"Assume Role Proxy Host","identifiesControllerService":false,"sensitive":false},"default-credentials":{"name":"default-credentials","displayName":"Use Default Credentials","identifiesControllerService":false,"sensitive":false},"Session Time":{"name":"Session Time","displayName":"Session Time","identifiesControllerService":false,"sensitive":false},"assume-role-proxy-port":{"name":"assume-role-proxy-port","displayName":"Assume Role Proxy Port","identifiesControllerService":false,"sensitive":false},"Assume Role ARN":{"name":"Assume Role ARN","displayName":"Assume Role ARN","identifiesControllerService":false,"sensitive":false},"Assume Role Session Name":{"name":"Assume Role Session Name","displayName":"Assume Role Session Name","identifiesControllerService":false,"sensitive":false},"assume-role-sts-endpoint":{"name":"assume-role-sts-endpoint","displayName":"Assume Role STS Endpoint","identifiesControllerService":false,"sensitive":false},"Secret Key":{"name":"Secret Key","displayName":"Secret Access Key","identifiesControllerService":false,"sensitive":true},"Credentials File":{"name":"Credentials File","displayName":"Credentials File","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"assume-role-external-id":{"name":"assume-role-external-id","displayName":"Assume Role External ID","identifiesControllerService":false,"sensitive":false},"anonymous-credentials":{"name":"anonymous-credentials","displayName":"Use Anonymous Credentials","identifiesControllerService":false,"sensitive":false}},"componentType":"CONTROLLER_SERVICE","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"66cd7e07-bcee-39ad-a078-c9a64565f042","name":"JsonTreeReaderSmall","comments":"","type":"org.apache.nifi.json.JsonTreeReader","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.15.3"},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordReaderFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.15.3"}}],"properties":{"Timestamp Format":null,"schema-inference-cache":null,"Date Format":null,"schema-branch":null,"schema-name":"OutputSchemaSmall","schema-registry":"f687a677-63e8-37bc-aa8e-c7a4f02fa6e3","Time Format":null,"schema-access-strategy":"schema-name","schema-version":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false},"schema-inference-cache":{"name":"schema-inference-cache","displayName":"Schema Inference Cache","identifiesControllerService":true,"sensitive":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false},"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"componentType":"CONTROLLER_SERVICE","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"a0c5b58b-0d03-346e-9672-e9974a4fe008","name":"JsonTreeReader","comments":"","type":"org.apache.nifi.json.JsonTreeReader","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.15.3"},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordReaderFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.15.3"}}],"properties":{"Timestamp Format":null,"schema-inference-cache":null,"Date Format":null,"schema-branch":null,"schema-name":"NoaaSchema","schema-registry":"f687a677-63e8-37bc-aa8e-c7a4f02fa6e3","Time Format":null,"schema-access-strategy":"schema-name","schema-version":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false},"schema-inference-cache":{"name":"schema-inference-cache","displayName":"Schema Inference Cache","identifiesControllerService":true,"sensitive":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false},"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"componentType":"CONTROLLER_SERVICE","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"a67888bf-d7ca-3f62-8437-baef940564ec","name":"JsonRecordSetWriterSmall","comments":"","type":"org.apache.nifi.json.JsonRecordSetWriter","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.15.3"},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordSetWriterFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.15.3"}}],"properties":{"schema-branch":null,"compression-level":"1","schema-cache":null,"Timestamp Format":null,"Date Format":null,"Pretty Print JSON":"false","compression-format":"none","Schema Write Strategy":"schema-name","suppress-nulls":"never-suppress","output-grouping":"output-oneline","schema-name":"OutputSchemaSmall","schema-registry":"f687a677-63e8-37bc-aa8e-c7a4f02fa6e3","Time Format":null,"schema-access-strategy":"schema-name","schema-protocol-version":"1","schema-version":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"compression-level":{"name":"compression-level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false},"schema-cache":{"name":"schema-cache","displayName":"Schema Cache","identifiesControllerService":true,"sensitive":false},"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false},"Pretty Print JSON":{"name":"Pretty Print JSON","displayName":"Pretty Print JSON","identifiesControllerService":false,"sensitive":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false},"Schema Write Strategy":{"name":"Schema Write Strategy","displayName":"Schema Write Strategy","identifiesControllerService":false,"sensitive":false},"suppress-nulls":{"name":"suppress-nulls","displayName":"Suppress Null Values","identifiesControllerService":false,"sensitive":false},"output-grouping":{"name":"output-grouping","displayName":"Output Grouping","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-protocol-version":{"name":"schema-protocol-version","displayName":"Schema Protocol Version","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"componentType":"CONTROLLER_SERVICE","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"},{"identifier":"d8c36704-ac0b-386d-8ad3-3ef4556745f9","name":"CSVRecordSetWriter","comments":"","type":"org.apache.nifi.csv.CSVRecordSetWriter","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.15.3"},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordSetWriterFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.15.3"}}],"properties":{"schema-branch":null,"CSV Format":"custom","Quote Character":"\"","Include Header Line":"true","Value Separator":"|","schema-cache":null,"Record Separator":"\\n","Timestamp Format":null,"Escape Character":"\\","Date Format":"YYYY-MM-dd","Schema Write Strategy":"schema-name","Null String":null,"Trim Fields":"true","schema-name":"NoaaSchema","schema-registry":"f687a677-63e8-37bc-aa8e-c7a4f02fa6e3","Time Format":"HH:MM","Comment Marker":null,"schema-access-strategy":"schema-name","schema-protocol-version":"1","schema-version":null,"csvutils-character-set":"UTF-8","schema-text":"${avro.schema}","Quote Mode":"MINIMAL","Include Trailing Delimiter":"false"},"propertyDescriptors":{"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"CSV Format":{"name":"CSV Format","displayName":"CSV Format","identifiesControllerService":false,"sensitive":false},"Quote Character":{"name":"Quote Character","displayName":"Quote Character","identifiesControllerService":false,"sensitive":false},"Include Header Line":{"name":"Include Header Line","displayName":"Include Header Line","identifiesControllerService":false,"sensitive":false},"Value Separator":{"name":"Value Separator","displayName":"Value Separator","identifiesControllerService":false,"sensitive":false},"schema-cache":{"name":"schema-cache","displayName":"Schema Cache","identifiesControllerService":true,"sensitive":false},"Record Separator":{"name":"Record Separator","displayName":"Record Separator","identifiesControllerService":false,"sensitive":false},"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false},"Escape Character":{"name":"Escape Character","displayName":"Escape Character","identifiesControllerService":false,"sensitive":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false},"Schema Write Strategy":{"name":"Schema Write Strategy","displayName":"Schema Write Strategy","identifiesControllerService":false,"sensitive":false},"Null String":{"name":"Null String","displayName":"Null String","identifiesControllerService":false,"sensitive":false},"Trim Fields":{"name":"Trim Fields","displayName":"Trim Fields","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false},"Comment Marker":{"name":"Comment Marker","displayName":"Comment Marker","identifiesControllerService":false,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-protocol-version":{"name":"schema-protocol-version","displayName":"Schema Protocol Version","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"csvutils-character-set":{"name":"csvutils-character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false},"Quote Mode":{"name":"Quote Mode","displayName":"Quote Mode","identifiesControllerService":false,"sensitive":false},"Include Trailing Delimiter":{"name":"Include Trailing Delimiter","displayName":"Include Trailing Delimiter","identifiesControllerService":false,"sensitive":false}},"componentType":"CONTROLLER_SERVICE","groupIdentifier":"b4b75eb0-7dc9-3a93-91f3-ce1fdbcd0444"}],"variables":{},"parameterContextName":"Parameter Year 2020","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"0453ab69-179b-341a-9661-66057aafaa8d"},{"identifier":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"grp_noaa_data_etl 2010","comments":"Process data for year 2020","position":{"x":40.0,"y":176.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"4946fbb0-18fb-365b-a0ab-5cbd8863a1b1","name":"Filter Weather Station Category ID","comments":"","position":{"x":3032.0,"y":416.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","properties":{"file_type_E":"${filename:contains('030910')}","file_type_D":"${filename:contains('037970')}","file_type_C":"${filename:contains('035770')}","Routing Strategy":"Route to Property name","file_type_B":"${filename:contains('035830')}","file_type_F":"${filename:contains('039690')}","file_type_A":"${filename:contains('040180')}"},"propertyDescriptors":{"file_type_E":{"name":"file_type_E","displayName":"file_type_E","identifiesControllerService":false,"sensitive":false},"file_type_D":{"name":"file_type_D","displayName":"file_type_D","identifiesControllerService":false,"sensitive":false},"file_type_C":{"name":"file_type_C","displayName":"file_type_C","identifiesControllerService":false,"sensitive":false},"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"file_type_B":{"name":"file_type_B","displayName":"file_type_B","identifiesControllerService":false,"sensitive":false},"file_type_F":{"name":"file_type_F","displayName":"file_type_F","identifiesControllerService":false,"sensitive":false},"file_type_A":{"name":"file_type_A","displayName":"file_type_A","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["unmatched"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"2437dae9-1b36-3743-845b-c18fb45d142b","name":"List NOAA Data Files","comments":"","position":{"x":3032.0,"y":128.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-aws-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.aws.s3.ListS3","properties":{"write-s3-user-metadata":"false","Proxy Host":null,"list-type":"2","prefix":"#{noaa.isd.prefix}/#{active_year}/","record-writer":null,"proxy-configuration-service":null,"Endpoint Override URL":null,"requester-pays":"false","AWS Credentials Provider service":"8c1d6fa6-01c5-3b86-bed3-30e688b555d3","Listing Batch Size":"100","SSL Context Service":null,"write-s3-object-tags":"false","Signer Override":"Default Signature","Bucket":"noaa-isd-pds","delimiter":"/","Communications Timeout":"30 secs","Region":"us-east-1","Credentials File":null,"min-age":"1 min","proxy-user-name":null,"Proxy Host Port":null,"use-versions":"false"},"propertyDescriptors":{"Proxy Host":{"name":"Proxy Host","displayName":"Proxy Host","identifiesControllerService":false,"sensitive":false},"list-type":{"name":"list-type","displayName":"List Type","identifiesControllerService":false,"sensitive":false},"Access Key":{"name":"Access Key","displayName":"Access Key ID","identifiesControllerService":false,"sensitive":true},"prefix":{"name":"prefix","displayName":"Prefix","identifiesControllerService":false,"sensitive":false},"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false},"Endpoint Override URL":{"name":"Endpoint Override URL","displayName":"Endpoint Override URL","identifiesControllerService":false,"sensitive":false},"requester-pays":{"name":"requester-pays","displayName":"Requester Pays","identifiesControllerService":false,"sensitive":false},"Signer Override":{"name":"Signer Override","displayName":"Signer Override","identifiesControllerService":false,"sensitive":false},"delimiter":{"name":"delimiter","displayName":"Delimiter","identifiesControllerService":false,"sensitive":false},"proxy-user-password":{"name":"proxy-user-password","displayName":"Proxy Password","identifiesControllerService":false,"sensitive":true},"Secret Key":{"name":"Secret Key","displayName":"Secret Access Key","identifiesControllerService":false,"sensitive":true},"min-age":{"name":"min-age","displayName":"Minimum Object Age","identifiesControllerService":false,"sensitive":false},"write-s3-user-metadata":{"name":"write-s3-user-metadata","displayName":"Write User Metadata","identifiesControllerService":false,"sensitive":false},"AWS Credentials Provider service":{"name":"AWS Credentials Provider service","displayName":"AWS Credentials Provider service","identifiesControllerService":true,"sensitive":false},"Listing Batch Size":{"name":"Listing Batch Size","displayName":"Listing Batch Size","identifiesControllerService":false,"sensitive":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"write-s3-object-tags":{"name":"write-s3-object-tags","displayName":"Write Object Tags","identifiesControllerService":false,"sensitive":false},"Bucket":{"name":"Bucket","displayName":"Bucket","identifiesControllerService":false,"sensitive":false},"Communications Timeout":{"name":"Communications Timeout","displayName":"Communications Timeout","identifiesControllerService":false,"sensitive":false},"Region":{"name":"Region","displayName":"Region","identifiesControllerService":false,"sensitive":false},"Credentials File":{"name":"Credentials File","displayName":"Credentials File","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"proxy-user-name":{"name":"proxy-user-name","displayName":"Proxy Username","identifiesControllerService":false,"sensitive":false},"Proxy Host Port":{"name":"Proxy Host Port","displayName":"Proxy Host Port","identifiesControllerService":false,"sensitive":false},"use-versions":{"name":"use-versions","displayName":"Use Versions","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"30 min","schedulingStrategy":"TIMER_DRIVEN","executionNode":"PRIMARY","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"ERROR","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"bad73edd-bd16-338a-8153-60683429735f","name":"UnCompress Flow-File","comments":"","position":{"x":3032.0,"y":824.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.CompressContent","properties":{"Compression Format":"use mime.type attribute","Mode":"decompress","Compression Level":"1","Update Filename":"true"},"propertyDescriptors":{"Compression Format":{"name":"Compression Format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false},"Mode":{"name":"Mode","displayName":"Mode","identifiesControllerService":false,"sensitive":false},"Compression Level":{"name":"Compression Level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false},"Update Filename":{"name":"Update Filename","displayName":"Update Filename","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"1f3d4cb0-5835-3b4d-a2cb-57382219ee63","name":"GetFile","comments":"","position":{"x":3032.0,"y":1840.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.GetFile","properties":{"Keep Source File":"false","Minimum File Age":"2 mins","Polling Interval":"2 sec","Input Directory":"#{gcs.storage.dir}/#{active_year}","Maximum File Age":null,"Batch Size":"10","Maximum File Size":null,"Minimum File Size":"0 B","Ignore Hidden Files":"true","Recurse Subdirectories":"false","File Filter":"[^\\.]*.json","Path Filter":null},"propertyDescriptors":{"Keep Source File":{"name":"Keep Source File","displayName":"Keep Source File","identifiesControllerService":false,"sensitive":false},"Minimum File Age":{"name":"Minimum File Age","displayName":"Minimum File Age","identifiesControllerService":false,"sensitive":false},"Polling Interval":{"name":"Polling Interval","displayName":"Polling Interval","identifiesControllerService":false,"sensitive":false},"Input Directory":{"name":"Input Directory","displayName":"Input Directory","identifiesControllerService":false,"sensitive":false},"Maximum File Age":{"name":"Maximum File Age","displayName":"Maximum File Age","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Maximum File Size":{"name":"Maximum File Size","displayName":"Maximum File Size","identifiesControllerService":false,"sensitive":false},"Minimum File Size":{"name":"Minimum File Size","displayName":"Minimum File Size","identifiesControllerService":false,"sensitive":false},"Ignore Hidden Files":{"name":"Ignore Hidden Files","displayName":"Ignore Hidden Files","identifiesControllerService":false,"sensitive":false},"Recurse Subdirectories":{"name":"Recurse Subdirectories","displayName":"Recurse Subdirectories","identifiesControllerService":false,"sensitive":false},"File Filter":{"name":"File Filter","displayName":"File Filter","identifiesControllerService":false,"sensitive":false},"Path Filter":{"name":"Path Filter","displayName":"Path Filter","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"PRIMARY","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"614bb90e-4c5e-3310-b64d-6d0fb0fe9e99","name":"QueryRecord","comments":"","position":{"x":3032.0,"y":1232.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.QueryRecord","properties":{"cache-schema":"true","dbf-default-precision":"10","record-writer":"af633cbf-1cab-3d52-be42-66a56e10357c","record-reader":"a0c5b58b-0d03-346e-9672-e9974a4fe008","include-zero-record-flowfiles":"false","dbf-default-scale":"3","sql":"SELECT\n  cat_id,\n  CASE\n    WHEN wban = '99999' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      wban\n  END AS wban,\n  obs_date,\n  obs_time,\n  CASE\n    WHEN obs_data_source = '9' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      obs_data_source\n  END AS obs_data_source,\n  CASE\n    WHEN obs_latitude = '99999' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      obs_latitude\n  END AS obs_latitude,\n  CASE\n    WHEN obs_longitude = '99999' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      obs_longitude\n  END AS obs_longitude,\n  CASE\n    WHEN report_code = '99999' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      report_code\n  END AS report_code,\n  obs_elevation,\n  CASE\n    WHEN station_call = '99999' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      station_call\n  END AS station_call,\n  quality_control,\n  CASE\n    WHEN wind_dir_angle = '999' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      wind_dir_angle\n  END AS wind_dir_angle,\n  wind_dir_quality,\n  CASE\n    WHEN wind_type = '9' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      wind_type\n  END AS wind_type,\n  CASE\n    WHEN sky_ceiling = '9999' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      sky_ceiling\n  END AS wind_speed_rate,\n  wind_speed_quality,\n  CASE\n    WHEN sky_ceiling = '99999' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      sky_ceiling\n  END AS sky_ceiling,\n  CASE\n    WHEN sky_ceiling_quality = '9' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      sky_ceiling_quality\n  END AS  sky_ceiling_quality,\n  CASE\n    WHEN sky_ceiling_determination = '9' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      sky_ceiling_determination\n  END AS sky_ceiling_determination,\n  CASE\n    WHEN sky_cavok = '9' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      sky_cavok\n  END AS sky_cavok,\n  CASE\n    WHEN vis_distance = '999999' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      vis_distance\n  END AS vis_distance,\n  vis_distance_quality,\n  CASE\n    WHEN vis_variability = '9' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      vis_variability\n  END AS vis_variability,\n  vis_variability_quality,\n  CASE\n    WHEN air_temp = '9999' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      air_temp\n  END AS air_temp,\n  air_temp_quality,\n  CASE\n    WHEN air_dewpoint_temp = '9999' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      air_dewpoint_temp\n  END AS air_dewpoint_temp,\n  air_dewpoint_temp_quality,\n  CASE\n    WHEN air_pres_msl = '99999' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      air_pres_msl\n  END AS air_pres_msl,\n  air_pres_msl_quality\nFROM FLOWFILE\n"},"propertyDescriptors":{"cache-schema":{"name":"cache-schema","displayName":"Cache Schema","identifiesControllerService":false,"sensitive":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false},"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"include-zero-record-flowfiles":{"name":"include-zero-record-flowfiles","displayName":"Include Zero Record FlowFiles","identifiesControllerService":false,"sensitive":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false},"sql":{"name":"sql","displayName":"sql","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"ERROR","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"f543f4a1-c582-3802-8390-b6ca74c4c979","name":"Parse Fixed-Width to CSV","comments":"","position":{"x":3032.0,"y":952.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.ReplaceText","properties":{"Regular Expression":"(.{4})(.{6})(.{5})(.{8})(.{4})(.{1})(.{6})(.{7})(.{5})(.{5})(.{5})(.{4})(.{3})(.{1})(.{1})(.{4})(.{1})(.{5})(.{1})(.{1})(.{1})(.{6})(.{1})(.{1})(.{1})(.{5})(.{1})(.{5})(.{1})(.{5})(.{1}).*","Replacement Value":"$1|$2|$3|$4|$5|$6|$7|$8|$9|$10|$11|$12|$13|$14|$15|$16|$17|$18|$19|$20|$21|$22|$23|$24|$25|$26|$27|$28|$29|$30|$31","Evaluation Mode":"Line-by-Line","Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace"},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"b8ccc4fa-979d-3372-bce8-d991bec18dc7","name":"LogAttribute","comments":"","position":{"x":3032.0,"y":2120.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.LogAttribute","properties":{"Log prefix":null,"character-set":"UTF-8","Log Level":"info","attributes-to-ignore-regex":null,"Attributes to Ignore":null,"Attributes to Log":null,"attributes-to-log-regex":".*","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"name":"Log prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false},"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"Log Level":{"name":"Log Level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false},"attributes-to-ignore-regex":{"name":"attributes-to-ignore-regex","displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"sensitive":false},"Attributes to Ignore":{"name":"Attributes to Ignore","displayName":"Attributes to Ignore","identifiesControllerService":false,"sensitive":false},"Attributes to Log":{"name":"Attributes to Log","displayName":"Attributes to Log","identifiesControllerService":false,"sensitive":false},"attributes-to-log-regex":{"name":"attributes-to-log-regex","displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"sensitive":false},"Log Payload":{"name":"Log Payload","displayName":"Log Payload","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"d962675c-8a23-39c1-8847-265230c5db0a","name":"Download Data File","comments":"","position":{"x":3032.0,"y":560.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-aws-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.aws.s3.FetchS3Object","properties":{"Proxy Host":null,"range-length":null,"range-start":null,"proxy-configuration-service":null,"Endpoint Override URL":null,"requester-pays":"false","Object Key":"${filename}","AWS Credentials Provider service":"8c1d6fa6-01c5-3b86-bed3-30e688b555d3","SSL Context Service":null,"Signer Override":"Default Signature","Bucket":"noaa-isd-pds","Version":null,"Communications Timeout":"30 secs","Region":"us-east-1","Credentials File":null,"proxy-user-name":null,"Proxy Host Port":null,"encryption-service":null},"propertyDescriptors":{"Proxy Host":{"name":"Proxy Host","displayName":"Proxy Host","identifiesControllerService":false,"sensitive":false},"range-length":{"name":"range-length","displayName":"Range Length","identifiesControllerService":false,"sensitive":false},"Access Key":{"name":"Access Key","displayName":"Access Key ID","identifiesControllerService":false,"sensitive":true},"range-start":{"name":"range-start","displayName":"Range Start","identifiesControllerService":false,"sensitive":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false},"Endpoint Override URL":{"name":"Endpoint Override URL","displayName":"Endpoint Override URL","identifiesControllerService":false,"sensitive":false},"requester-pays":{"name":"requester-pays","displayName":"Requester Pays","identifiesControllerService":false,"sensitive":false},"Object Key":{"name":"Object Key","displayName":"Object Key","identifiesControllerService":false,"sensitive":false},"AWS Credentials Provider service":{"name":"AWS Credentials Provider service","displayName":"AWS Credentials Provider service","identifiesControllerService":true,"sensitive":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"Signer Override":{"name":"Signer Override","displayName":"Signer Override","identifiesControllerService":false,"sensitive":false},"Bucket":{"name":"Bucket","displayName":"Bucket","identifiesControllerService":false,"sensitive":false},"Version":{"name":"Version","displayName":"Version","identifiesControllerService":false,"sensitive":false},"proxy-user-password":{"name":"proxy-user-password","displayName":"Proxy Password","identifiesControllerService":false,"sensitive":true},"Communications Timeout":{"name":"Communications Timeout","displayName":"Communications Timeout","identifiesControllerService":false,"sensitive":false},"Region":{"name":"Region","displayName":"Region","identifiesControllerService":false,"sensitive":false},"Secret Key":{"name":"Secret Key","displayName":"Secret Access Key","identifiesControllerService":false,"sensitive":true},"Credentials File":{"name":"Credentials File","displayName":"Credentials File","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"proxy-user-name":{"name":"proxy-user-name","displayName":"Proxy Username","identifiesControllerService":false,"sensitive":false},"Proxy Host Port":{"name":"Proxy Host Port","displayName":"Proxy Host Port","identifiesControllerService":false,"sensitive":false},"encryption-service":{"name":"encryption-service","displayName":"Encryption Service","identifiesControllerService":true,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"ERROR","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"70ac7292-2cc7-3407-88d8-64846d28565b","name":"IdentifyMimeType","comments":"","position":{"x":3032.0,"y":696.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.IdentifyMimeType","properties":{"config-file":null,"use-filename-in-detection":"true","config-body":null},"propertyDescriptors":{"config-file":{"name":"config-file","displayName":"Config File","identifiesControllerService":false,"sensitive":false},"use-filename-in-detection":{"name":"use-filename-in-detection","displayName":"Use Filename In Detection","identifiesControllerService":false,"sensitive":false},"config-body":{"name":"config-body","displayName":"Config Body","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"a68d08b1-f3d5-393f-b260-5ddc4e948dbc","name":"UpdateAttribute","comments":"","position":{"x":3032.0,"y":1504.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","properties":{"Delete Attributes Expression":null,"filename":"${UUID()}.json","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"filename":{"name":"filename","displayName":"filename","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"5d4adfae-2288-38d4-b4ac-0f3bd95ce908","name":"PutGCSObject","comments":"","position":{"x":3032.0,"y":1976.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-gcp-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.gcp.storage.PutGCSObject","properties":{"gcp-proxy-host":null,"gcs-content-disposition-type":null,"gcp-retry-count":"6","proxy-configuration-service":null,"gcs-overwrite-object":"true","gcp-proxy-user-name":null,"gcs-object-md5":null,"gcs-content-type":"${mime.type}","gcs-object-crc32c":null,"gcp-project-id":"dtc-de-338616","GCP Credentials Provider Service":"5728e3c5-fe5a-363a-8a75-f3bcad18991c","gcs-key":"#{active_year}/${filename}","gcp-proxy-port":null,"gcs-bucket":"#{gcs.bucket.noaa}","gcs-object-acl":null},"propertyDescriptors":{"gcp-proxy-host":{"name":"gcp-proxy-host","displayName":"Proxy host","identifiesControllerService":false,"sensitive":false},"gcs-content-disposition-type":{"name":"gcs-content-disposition-type","displayName":"Content Disposition Type","identifiesControllerService":false,"sensitive":false},"gcp-retry-count":{"name":"gcp-retry-count","displayName":"Number of retries","identifiesControllerService":false,"sensitive":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false},"gcs-server-side-encryption-key":{"name":"gcs-server-side-encryption-key","displayName":"Server Side Encryption Key","identifiesControllerService":false,"sensitive":true},"gcs-overwrite-object":{"name":"gcs-overwrite-object","displayName":"Overwrite Object","identifiesControllerService":false,"sensitive":false},"gcp-proxy-user-name":{"name":"gcp-proxy-user-name","displayName":"HTTP Proxy Username","identifiesControllerService":false,"sensitive":false},"gcs-object-md5":{"name":"gcs-object-md5","displayName":"MD5 Hash","identifiesControllerService":false,"sensitive":false},"gcs-content-type":{"name":"gcs-content-type","displayName":"Content Type","identifiesControllerService":false,"sensitive":false},"gcs-object-crc32c":{"name":"gcs-object-crc32c","displayName":"CRC32C Checksum","identifiesControllerService":false,"sensitive":false},"gcp-project-id":{"name":"gcp-project-id","displayName":"Project ID","identifiesControllerService":false,"sensitive":false},"GCP Credentials Provider Service":{"name":"GCP Credentials Provider Service","displayName":"GCP Credentials Provider Service","identifiesControllerService":true,"sensitive":false},"gcs-key":{"name":"gcs-key","displayName":"Key","identifiesControllerService":false,"sensitive":false},"gcp-proxy-user-password":{"name":"gcp-proxy-user-password","displayName":"HTTP Proxy Password","identifiesControllerService":false,"sensitive":true},"gcp-proxy-port":{"name":"gcp-proxy-port","displayName":"Proxy port","identifiesControllerService":false,"sensitive":false},"gcs-bucket":{"name":"gcs-bucket","displayName":"Bucket","identifiesControllerService":false,"sensitive":false},"gcs-object-acl":{"name":"gcs-object-acl","displayName":"Object ACL","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"0f85c141-8049-393b-b91d-9e656ed083b2","name":"MergeRecord","comments":"","position":{"x":3032.0,"y":1368.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.MergeRecord","properties":{"max-bin-age":null,"correlation-attribute-name":null,"Attribute Strategy":"Keep Only Common Attributes","min-records":"1","max-bin-size":null,"record-writer":"af633cbf-1cab-3d52-be42-66a56e10357c","merge-strategy":"Bin-Packing Algorithm","record-reader":"a0c5b58b-0d03-346e-9672-e9974a4fe008","max-records":"1000","min-bin-size":"0 B","max.bin.count":"5"},"propertyDescriptors":{"max-bin-age":{"name":"max-bin-age","displayName":"Max Bin Age","identifiesControllerService":false,"sensitive":false},"correlation-attribute-name":{"name":"correlation-attribute-name","displayName":"Correlation Attribute Name","identifiesControllerService":false,"sensitive":false},"Attribute Strategy":{"name":"Attribute Strategy","displayName":"Attribute Strategy","identifiesControllerService":false,"sensitive":false},"min-records":{"name":"min-records","displayName":"Minimum Number of Records","identifiesControllerService":false,"sensitive":false},"max-bin-size":{"name":"max-bin-size","displayName":"Maximum Bin Size","identifiesControllerService":false,"sensitive":false},"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"merge-strategy":{"name":"merge-strategy","displayName":"Merge Strategy","identifiesControllerService":false,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"max-records":{"name":"max-records","displayName":"Maximum Number of Records","identifiesControllerService":false,"sensitive":false},"min-bin-size":{"name":"min-bin-size","displayName":"Minimum Bin Size","identifiesControllerService":false,"sensitive":false},"max.bin.count":{"name":"max.bin.count","displayName":"Maximum Number of Bins","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"754bafac-b2ca-366e-8b1a-a952c6fa20c2","name":"PutFile","comments":"","position":{"x":3032.0,"y":1648.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.PutFile","properties":{"Group":null,"Owner":null,"Create Missing Directories":"true","Permissions":null,"Maximum File Count":null,"Last Modified Time":null,"Directory":"#{noaa.isd.staging}/#{active_year}","Conflict Resolution Strategy":"replace"},"propertyDescriptors":{"Group":{"name":"Group","displayName":"Group","identifiesControllerService":false,"sensitive":false},"Owner":{"name":"Owner","displayName":"Owner","identifiesControllerService":false,"sensitive":false},"Create Missing Directories":{"name":"Create Missing Directories","displayName":"Create Missing Directories","identifiesControllerService":false,"sensitive":false},"Permissions":{"name":"Permissions","displayName":"Permissions","identifiesControllerService":false,"sensitive":false},"Maximum File Count":{"name":"Maximum File Count","displayName":"Maximum File Count","identifiesControllerService":false,"sensitive":false},"Last Modified Time":{"name":"Last Modified Time","displayName":"Last Modified Time","identifiesControllerService":false,"sensitive":false},"Directory":{"name":"Directory","displayName":"Directory","identifiesControllerService":false,"sensitive":false},"Conflict Resolution Strategy":{"name":"Conflict Resolution Strategy","displayName":"Conflict Resolution Strategy","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"ERROR","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"9088016c-1563-3a72-8529-f75be4a714d7","name":"Control Data Flow Rate","comments":"","position":{"x":3032.0,"y":264.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.ControlRate","properties":{"Time Duration":"1 min","Grouping Attribute":null,"Maximum Rate":"500","Rate Controlled Attribute":null,"Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"name":"Time Duration","displayName":"Time Duration","identifiesControllerService":false,"sensitive":false},"Grouping Attribute":{"name":"Grouping Attribute","displayName":"Grouping Attribute","identifiesControllerService":false,"sensitive":false},"Maximum Rate":{"name":"Maximum Rate","displayName":"Maximum Rate","identifiesControllerService":false,"sensitive":false},"Rate Controlled Attribute":{"name":"Rate Controlled Attribute","displayName":"Rate Controlled Attribute","identifiesControllerService":false,"sensitive":false},"Rate Control Criteria":{"name":"Rate Control Criteria","displayName":"Rate Control Criteria","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"ERROR","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"c3b4c1a8-641d-30d1-9209-438baf877441","name":"Terminator","comments":"","position":{"x":4064.0,"y":984.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.15.3"},"style":{"background-color":"#b3716e"},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"8eeaef4e-7863-312f-8f6f-9cadb7e600f5","name":"Convert CSV Record to  JSON","comments":"","position":{"x":3032.0,"y":1096.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.ConvertRecord","properties":{"record-writer":"af633cbf-1cab-3d52-be42-66a56e10357c","record-reader":"2c687141-0863-3845-b5d0-cd5bf282fdf7","include-zero-record-flowfiles":"false"},"propertyDescriptors":{"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"include-zero-record-flowfiles":{"name":"include-zero-record-flowfiles","displayName":"Include Zero Record FlowFiles","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"}],"inputPorts":[],"outputPorts":[],"connections":[{"identifier":"70e62f80-c499-377d-9a73-a31b9bb412c1","name":"","source":{"id":"8eeaef4e-7863-312f-8f6f-9cadb7e600f5","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"Convert CSV Record to  JSON","comments":""},"destination":{"id":"c3b4c1a8-641d-30d1-9209-438baf877441","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"Terminator","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":3648.0,"y":1168.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"f6d81712-5db2-364b-be7e-be0c298b971d","name":"","source":{"id":"9088016c-1563-3a72-8529-f75be4a714d7","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"Control Data Flow Rate","comments":""},"destination":{"id":"c3b4c1a8-641d-30d1-9209-438baf877441","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"Terminator","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":4064.0,"y":328.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"02b8bdde-fa1f-3b5b-a39b-509c061f9a4c","name":"","source":{"id":"bad73edd-bd16-338a-8153-60683429735f","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"UnCompress Flow-File","comments":""},"destination":{"id":"c3b4c1a8-641d-30d1-9209-438baf877441","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"Terminator","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":3944.0,"y":880.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"660950f1-b78c-365a-8b5b-364645008a8d","name":"","source":{"id":"0f85c141-8049-393b-b91d-9e656ed083b2","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"MergeRecord","comments":""},"destination":{"id":"a68d08b1-f3d5-393f-b260-5ddc4e948dbc","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"UpdateAttribute","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["merged"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2776.0,"y":1520.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"83813731-30ac-3d47-af78-2c4acd847bce","name":"","source":{"id":"754bafac-b2ca-366e-8b1a-a952c6fa20c2","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"PutFile","comments":""},"destination":{"id":"c3b4c1a8-641d-30d1-9209-438baf877441","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"Terminator","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":4160.0,"y":1560.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"64d5db2a-5ff5-304a-8383-5c0cea98f2c4","name":"","source":{"id":"d962675c-8a23-39c1-8847-265230c5db0a","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"Download Data File","comments":""},"destination":{"id":"c3b4c1a8-641d-30d1-9209-438baf877441","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"Terminator","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":3968.0,"y":624.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"af6168ab-1e69-309f-87fa-49afb620d941","name":"","source":{"id":"bad73edd-bd16-338a-8153-60683429735f","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"UnCompress Flow-File","comments":""},"destination":{"id":"f543f4a1-c582-3802-8390-b6ca74c4c979","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"Parse Fixed-Width to CSV","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2792.0,"y":968.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"33376a8f-cac3-3ff6-9916-2694212df912","name":"","source":{"id":"614bb90e-4c5e-3310-b64d-6d0fb0fe9e99","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"QueryRecord","comments":""},"destination":{"id":"0f85c141-8049-393b-b91d-9e656ed083b2","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"MergeRecord","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["sql"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2776.0,"y":1328.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"5a257d9d-5199-34aa-b9d6-ee20a1193933","name":"","source":{"id":"614bb90e-4c5e-3310-b64d-6d0fb0fe9e99","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"QueryRecord","comments":""},"destination":{"id":"c3b4c1a8-641d-30d1-9209-438baf877441","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"Terminator","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":3752.0,"y":1176.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"c49996a4-8a52-3902-b9a2-9e03414057a0","name":"","source":{"id":"5d4adfae-2288-38d4-b4ac-0f3bd95ce908","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"PutGCSObject","comments":""},"destination":{"id":"b8ccc4fa-979d-3372-bce8-d991bec18dc7","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"LogAttribute","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2872.0,"y":2128.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"e8d868fa-23e7-3797-85ac-829ed5143e9b","name":"","source":{"id":"8eeaef4e-7863-312f-8f6f-9cadb7e600f5","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"Convert CSV Record to  JSON","comments":""},"destination":{"id":"614bb90e-4c5e-3310-b64d-6d0fb0fe9e99","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"QueryRecord","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2776.0,"y":1224.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"2438efd8-16f3-325b-bde3-be552c776032","name":"","source":{"id":"4946fbb0-18fb-365b-a0ab-5cbd8863a1b1","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"Filter Weather Station Category ID","comments":""},"destination":{"id":"d962675c-8a23-39c1-8847-265230c5db0a","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"Download Data File","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["file_type_E","file_type_D","file_type_C","file_type_B","file_type_F","file_type_A"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2816.0,"y":560.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"0e7fd39e-fcce-33d0-8b6e-08b73a79044c","name":"","source":{"id":"9088016c-1563-3a72-8529-f75be4a714d7","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"Control Data Flow Rate","comments":""},"destination":{"id":"4946fbb0-18fb-365b-a0ab-5cbd8863a1b1","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"Filter Weather Station Category ID","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2824.0,"y":400.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"32b254e7-40bd-3aa4-b32d-4445ec60dd8d","name":"","source":{"id":"a68d08b1-f3d5-393f-b260-5ddc4e948dbc","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"UpdateAttribute","comments":""},"destination":{"id":"754bafac-b2ca-366e-8b1a-a952c6fa20c2","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"PutFile","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2768.0,"y":1672.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"0e8917cf-9b2d-301f-b7b2-324e8886d25b","name":"","source":{"id":"0f85c141-8049-393b-b91d-9e656ed083b2","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"MergeRecord","comments":""},"destination":{"id":"c3b4c1a8-641d-30d1-9209-438baf877441","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"Terminator","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":3896.0,"y":1384.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"69e4b0b5-5045-32b6-9f08-f34d3b6ace6f","name":"","source":{"id":"1f3d4cb0-5835-3b4d-a2cb-57382219ee63","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"GetFile","comments":""},"destination":{"id":"5d4adfae-2288-38d4-b4ac-0f3bd95ce908","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"PutGCSObject","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2872.0,"y":1976.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"07374e41-44aa-3ea0-b45a-269160ee0bd6","name":"","source":{"id":"f543f4a1-c582-3802-8390-b6ca74c4c979","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"Parse Fixed-Width to CSV","comments":""},"destination":{"id":"c3b4c1a8-641d-30d1-9209-438baf877441","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"Terminator","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":3656.0,"y":1096.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"d9709381-13db-3d23-9f83-ced569c22ab2","name":"","source":{"id":"f543f4a1-c582-3802-8390-b6ca74c4c979","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"Parse Fixed-Width to CSV","comments":""},"destination":{"id":"8eeaef4e-7863-312f-8f6f-9cadb7e600f5","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"Convert CSV Record to  JSON","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2784.0,"y":1080.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"04777c5f-088a-3728-93ba-7c4b83f5a17e","name":"","source":{"id":"2437dae9-1b36-3743-845b-c18fb45d142b","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"List NOAA Data Files","comments":""},"destination":{"id":"9088016c-1563-3a72-8529-f75be4a714d7","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"Control Data Flow Rate","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2840.0,"y":240.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"88bbce0b-5dd6-35da-9367-2461b63a8e39","name":"","source":{"id":"70ac7292-2cc7-3407-88d8-64846d28565b","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"IdentifyMimeType","comments":""},"destination":{"id":"bad73edd-bd16-338a-8153-60683429735f","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"UnCompress Flow-File","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2800.0,"y":832.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"9bcf8a15-15dd-34af-b624-606a728540a1","name":"","source":{"id":"d962675c-8a23-39c1-8847-265230c5db0a","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"Download Data File","comments":""},"destination":{"id":"70ac7292-2cc7-3407-88d8-64846d28565b","type":"PROCESSOR","groupId":"cdacdb5b-6290-3da2-8732-51d433fd213f","name":"IdentifyMimeType","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"bends":[{"x":2808.0,"y":688.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"}],"labels":[{"identifier":"e952ed19-b936-3ecd-ab71-9f689960cf9a","position":{"x":4256.0,"y":1136.0},"label":"Log status and terminate flow.","width":304.0,"height":64.0,"style":{"font-size":"18px"},"componentType":"LABEL","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"5f8112f0-6717-3b12-9864-366ddb43e864","position":{"x":3400.0,"y":424.0},"label":"Fetch the Gzip compressed files from AWS S3.","width":536.0,"height":80.0,"style":{"font-size":"18px"},"componentType":"LABEL","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"445524a4-d7de-39c6-b119-f12a13e61641","position":{"x":3392.0,"y":1280.0},"label":"Select flow-file and convert missing data indicator '9999' values to NULL.","width":616.0,"height":72.0,"style":{"font-size":"18px"},"componentType":"LABEL","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"0ec0ac90-f93c-3d50-95b5-29d0b648bf27","position":{"x":3400.0,"y":336.0},"label":"Limit download control rate. \nFilter on category-ID/file-prefix \"040180\" and \"035830\".","width":536.0,"height":64.0,"style":{"font-size":"18px"},"componentType":"LABEL","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"9eeeac5c-f0bc-328a-b979-1b8b325392a0","position":{"x":3392.0,"y":1432.0},"label":"Combine individual flow-file records into batches of 1000 records.","width":568.0,"height":64.0,"style":{"font-size":"18px"},"componentType":"LABEL","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"79a9989e-d574-313f-af6b-69c292897545","position":{"x":3392.0,"y":1704.0},"label":"Save the flow-file to the UNIX file system.","width":544.0,"height":56.0,"style":{"font-size":"18px"},"componentType":"LABEL","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"77cb520f-f3cc-35e1-9ee2-40d9ba4b0891","position":{"x":3392.0,"y":1840.0},"label":"Get previously downloaded JSON files and \nUpload processed files to GCS bucket.","width":552.0,"height":408.0,"style":{"font-size":"18px"},"componentType":"LABEL","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"44abc39d-3d2f-3b03-9050-61cb86cb6acc","position":{"x":3392.0,"y":1504.0},"label":"Set a UUID random file name for the output batches.","width":568.0,"height":48.0,"style":{"font-size":"18px"},"componentType":"LABEL","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"6b1e2db0-3f20-3fe7-85df-47861a7ead28","position":{"x":3400.0,"y":120.0},"label":"List the data available on AWS S3 for the year 2020.","width":496.0,"height":80.0,"style":{"font-size":"18px"},"componentType":"LABEL","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"80584577-32cd-343c-8a94-9572cb113cfd","position":{"x":3392.0,"y":712.0},"label":"Identify the type of file-compression (mime type) \nthen uncompress / gunzip the downloaded files.","width":544.0,"height":80.0,"style":{"font-size":"18px"},"componentType":"LABEL","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"b7c3b2fb-35b0-3174-9436-ea3faa971a4a","position":{"x":2856.0,"y":-96.0},"label":"DTC Data Engineering Zoom Camp\nFebruary 2022\n\n\nNOAA Integrated Surface Database (ISD) ","width":776.0,"height":144.0,"style":{"font-size":"20px"},"componentType":"LABEL","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"0f957e99-3643-32c6-868d-574f275716be","position":{"x":3392.0,"y":960.0},"label":"The uncompressed fixed-width files are converted \nto pipe-delimited.\n\nhttps://www.ncei.noaa.gov/data/global-hourly/doc/isd-format-document.pdf","width":640.0,"height":104.0,"style":{"font-size":"18px"},"componentType":"LABEL","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"}],"funnels":[],"controllerServices":[{"identifier":"af633cbf-1cab-3d52-be42-66a56e10357c","name":"JsonRecordSetWriter","comments":"","type":"org.apache.nifi.json.JsonRecordSetWriter","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.15.3"},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordSetWriterFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.15.3"}}],"properties":{"schema-branch":null,"compression-level":"1","schema-cache":null,"Timestamp Format":null,"Date Format":null,"Pretty Print JSON":"false","compression-format":"none","Schema Write Strategy":"schema-name","suppress-nulls":"never-suppress","output-grouping":"output-oneline","schema-name":"NoaaSchema","schema-registry":"f687a677-63e8-37bc-aa8e-c7a4f02fa6e3","Time Format":null,"schema-access-strategy":"schema-name","schema-protocol-version":"1","schema-version":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"compression-level":{"name":"compression-level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false},"schema-cache":{"name":"schema-cache","displayName":"Schema Cache","identifiesControllerService":true,"sensitive":false},"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false},"Pretty Print JSON":{"name":"Pretty Print JSON","displayName":"Pretty Print JSON","identifiesControllerService":false,"sensitive":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false},"Schema Write Strategy":{"name":"Schema Write Strategy","displayName":"Schema Write Strategy","identifiesControllerService":false,"sensitive":false},"suppress-nulls":{"name":"suppress-nulls","displayName":"Suppress Null Values","identifiesControllerService":false,"sensitive":false},"output-grouping":{"name":"output-grouping","displayName":"Output Grouping","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-protocol-version":{"name":"schema-protocol-version","displayName":"Schema Protocol Version","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"componentType":"CONTROLLER_SERVICE","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"f687a677-63e8-37bc-aa8e-c7a4f02fa6e3","name":"AvroSchemaRegistry","comments":"","type":"org.apache.nifi.schemaregistry.services.AvroSchemaRegistry","bundle":{"group":"org.apache.nifi","artifact":"nifi-registry-nar","version":"1.15.3"},"controllerServiceApis":[{"type":"org.apache.nifi.schemaregistry.services.SchemaRegistry","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.15.3"}}],"properties":{"OutputSchemaNoaa":"{     \"type\": \"record\",\n     \"namespace\": \"measurements\",\n     \"name\": \"measurement\",\n     \"fields\": [\n         {\"name\": \"tot_var_chars\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"cat_id\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wban\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_date\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_time\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_data_source\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_latitude\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"obs_longitude\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"report_code\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_elevation\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"station_call\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"quality_control\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wind_dir_angle\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"wind_dir_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wind_type\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wind_speed_rate\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wind_speed_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"sky_ceiling\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"sky_ceiling_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"sky_ceiling_determination\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"sky_cavok\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"vis_distance\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"vis_distance_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"vis_variability\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"vis_variability_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"air_temp\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"air_temp_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"air_dewpoint_temp\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"air_dewpoint_temp_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"air_pres_msl\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"air_pres_msl_quality\",\"type\": [\"string\",\"null\"]}\n ]\n}","NoaaSchema":"{     \"type\": \"record\",\n     \"namespace\": \"measurements\",\n     \"name\": \"measurement\",\n     \"fields\": [\n         {\"name\": \"tot_var_chars\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"cat_id\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wban\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_date\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_time\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_data_source\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_latitude\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"obs_longitude\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"report_code\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_elevation\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"station_call\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"quality_control\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wind_dir_angle\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"wind_dir_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wind_type\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wind_speed_rate\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wind_speed_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"sky_ceiling\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"sky_ceiling_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"sky_ceiling_determination\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"sky_cavok\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"vis_distance\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"vis_distance_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"vis_variability\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"vis_variability_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"air_temp\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"air_temp_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"air_dewpoint_temp\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"air_dewpoint_temp_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"air_pres_msl\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"air_pres_msl_quality\",\"type\": [\"string\",\"null\"]}\n ]\n}","avro-reg-validated-field-names":"true","InputSchemaNoaa":"{     \"type\": \"record\",\n     \"namespace\": \"measurements\",\n     \"name\": \"measurement\",\n     \"fields\": [\n         {\"name\": \"tot_var_chars\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"cat_id\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wban\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_date\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_time\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_data_source\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_latitude\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"obs_longitude\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"report_code\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_elevation\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"station_call\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"quality_control\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wind_dir_angle\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"wind_dir_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wind_type\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wind_speed_rate\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wind_speed_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"sky_ceiling\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"sky_ceiling_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"sky_ceiling_determination\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"sky_cavok\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"vis_distance\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"vis_distance_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"vis_variability\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"vis_variability_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"air_temp\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"air_temp_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"air_dewpoint_temp\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"air_dewpoint_temp_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"air_pres_msl\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"air_pres_msl_quality\",\"type\": [\"string\",\"null\"]}\n ]\n}","OutputSchemaSmall":"{     \"type\": \"record\",\n     \"namespace\": \"measurements\",\n     \"name\": \"measurement\",\n     \"fields\": [\n         {\"name\": \"cat_id\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wban\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_date\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_time\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_data_source\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_latitude\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"obs_longitude\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"report_code\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_elevation\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"station_call\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"quality_control\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"air_temp\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"air_temp_quality\",\"type\": [\"string\",\"null\"]}\n ]\n}","OutputSchemaMovies":"{     \"type\": \"record\",\n     \"namespace\": \"movies\",\n     \"name\": \"movie\",\n     \"fields\": [\n\n       { \"name\": \"user_id\", \"type\": [\"int\", \"null\"] },\n       { \"name\": \"movie_id\", \"type\": [\"int\", \"null\"] },\n       { \"name\": \"rating\", \"type\": [\"int\", \"null\"] }\n     ]\n}"},"propertyDescriptors":{"OutputSchemaNoaa":{"name":"OutputSchemaNoaa","displayName":"OutputSchemaNoaa","identifiesControllerService":false,"sensitive":false},"NoaaSchema":{"name":"NoaaSchema","displayName":"NoaaSchema","identifiesControllerService":false,"sensitive":false},"avro-reg-validated-field-names":{"name":"avro-reg-validated-field-names","displayName":"Validate Field Names","identifiesControllerService":false,"sensitive":false},"InputSchemaNoaa":{"name":"InputSchemaNoaa","displayName":"InputSchemaNoaa","identifiesControllerService":false,"sensitive":false},"OutputSchemaSmall":{"name":"OutputSchemaSmall","displayName":"OutputSchemaSmall","identifiesControllerService":false,"sensitive":false},"OutputSchemaMovies":{"name":"OutputSchemaMovies","displayName":"OutputSchemaMovies","identifiesControllerService":false,"sensitive":false}},"componentType":"CONTROLLER_SERVICE","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"2c687141-0863-3845-b5d0-cd5bf282fdf7","name":"CSVReader","comments":"","type":"org.apache.nifi.csv.CSVReader","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.15.3"},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordReaderFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.15.3"}}],"properties":{"ignore-csv-header":"false","schema-branch":null,"CSV Format":"custom","Quote Character":"\"","csvutils-allow-duplicate-header-names":"true","Value Separator":"|","Record Separator":"\\n","Timestamp Format":null,"Escape Character":"\\","Date Format":null,"Null String":null,"Skip Header Line":"false","Trim Fields":"true","schema-name":"NoaaSchema","schema-registry":"f687a677-63e8-37bc-aa8e-c7a4f02fa6e3","csv-reader-csv-parser":"commons-csv","Time Format":null,"Comment Marker":null,"schema-access-strategy":"schema-name","schema-version":null,"csvutils-character-set":"UTF-8","schema-text":"${avro.schema}"},"propertyDescriptors":{"ignore-csv-header":{"name":"ignore-csv-header","displayName":"Ignore CSV Header Column Names","identifiesControllerService":false,"sensitive":false},"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"CSV Format":{"name":"CSV Format","displayName":"CSV Format","identifiesControllerService":false,"sensitive":false},"Quote Character":{"name":"Quote Character","displayName":"Quote Character","identifiesControllerService":false,"sensitive":false},"csvutils-allow-duplicate-header-names":{"name":"csvutils-allow-duplicate-header-names","displayName":"Allow Duplicate Header Names","identifiesControllerService":false,"sensitive":false},"Value Separator":{"name":"Value Separator","displayName":"Value Separator","identifiesControllerService":false,"sensitive":false},"Record Separator":{"name":"Record Separator","displayName":"Record Separator","identifiesControllerService":false,"sensitive":false},"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false},"Escape Character":{"name":"Escape Character","displayName":"Escape Character","identifiesControllerService":false,"sensitive":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false},"Null String":{"name":"Null String","displayName":"Null String","identifiesControllerService":false,"sensitive":false},"Skip Header Line":{"name":"Skip Header Line","displayName":"Treat First Line as Header","identifiesControllerService":false,"sensitive":false},"Trim Fields":{"name":"Trim Fields","displayName":"Trim Fields","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"csv-reader-csv-parser":{"name":"csv-reader-csv-parser","displayName":"CSV Parser","identifiesControllerService":false,"sensitive":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false},"Comment Marker":{"name":"Comment Marker","displayName":"Comment Marker","identifiesControllerService":false,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"csvutils-character-set":{"name":"csvutils-character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"componentType":"CONTROLLER_SERVICE","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"5728e3c5-fe5a-363a-8a75-f3bcad18991c","name":"GCPCredentialsControllerService","comments":"","type":"org.apache.nifi.processors.gcp.credentials.service.GCPCredentialsControllerService","bundle":{"group":"org.apache.nifi","artifact":"nifi-gcp-nar","version":"1.15.3"},"controllerServiceApis":[{"type":"org.apache.nifi.gcp.credentials.service.GCPCredentialsService","bundle":{"group":"org.apache.nifi","artifact":"nifi-gcp-services-api-nar","version":"1.15.3"}}],"properties":{"proxy-configuration-service":null,"compute-engine-credentials":"false","application-default-credentials":"false","service-account-json-file":"#{gcp.credentials}"},"propertyDescriptors":{"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false},"compute-engine-credentials":{"name":"compute-engine-credentials","displayName":"Use Compute Engine Credentials","identifiesControllerService":false,"sensitive":false},"application-default-credentials":{"name":"application-default-credentials","displayName":"Use Application Default Credentials","identifiesControllerService":false,"sensitive":false},"service-account-json-file":{"name":"service-account-json-file","displayName":"Service Account JSON File","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"service-account-json":{"name":"service-account-json","displayName":"Service Account JSON","identifiesControllerService":false,"sensitive":true}},"componentType":"CONTROLLER_SERVICE","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"8c1d6fa6-01c5-3b86-bed3-30e688b555d3","name":"AWSCredentialsProviderControllerService","comments":"","type":"org.apache.nifi.processors.aws.credentials.provider.service.AWSCredentialsProviderControllerService","bundle":{"group":"org.apache.nifi","artifact":"nifi-aws-nar","version":"1.15.3"},"controllerServiceApis":[{"type":"org.apache.nifi.processors.aws.credentials.provider.service.AWSCredentialsProviderService","bundle":{"group":"org.apache.nifi","artifact":"nifi-aws-service-api-nar","version":"1.15.3"}}],"properties":{"profile-name":null,"Assume Role Session Name":null,"assume-role-sts-endpoint":null,"assume-role-proxy-host":null,"Credentials File":null,"default-credentials":"false","Session Time":"3600","assume-role-proxy-port":null,"assume-role-external-id":null,"Assume Role ARN":null,"anonymous-credentials":"true"},"propertyDescriptors":{"profile-name":{"name":"profile-name","displayName":"Profile Name","identifiesControllerService":false,"sensitive":false},"Access Key":{"name":"Access Key","displayName":"Access Key ID","identifiesControllerService":false,"sensitive":true},"assume-role-proxy-host":{"name":"assume-role-proxy-host","displayName":"Assume Role Proxy Host","identifiesControllerService":false,"sensitive":false},"default-credentials":{"name":"default-credentials","displayName":"Use Default Credentials","identifiesControllerService":false,"sensitive":false},"Session Time":{"name":"Session Time","displayName":"Session Time","identifiesControllerService":false,"sensitive":false},"assume-role-proxy-port":{"name":"assume-role-proxy-port","displayName":"Assume Role Proxy Port","identifiesControllerService":false,"sensitive":false},"Assume Role ARN":{"name":"Assume Role ARN","displayName":"Assume Role ARN","identifiesControllerService":false,"sensitive":false},"Assume Role Session Name":{"name":"Assume Role Session Name","displayName":"Assume Role Session Name","identifiesControllerService":false,"sensitive":false},"assume-role-sts-endpoint":{"name":"assume-role-sts-endpoint","displayName":"Assume Role STS Endpoint","identifiesControllerService":false,"sensitive":false},"Secret Key":{"name":"Secret Key","displayName":"Secret Access Key","identifiesControllerService":false,"sensitive":true},"Credentials File":{"name":"Credentials File","displayName":"Credentials File","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"assume-role-external-id":{"name":"assume-role-external-id","displayName":"Assume Role External ID","identifiesControllerService":false,"sensitive":false},"anonymous-credentials":{"name":"anonymous-credentials","displayName":"Use Anonymous Credentials","identifiesControllerService":false,"sensitive":false}},"componentType":"CONTROLLER_SERVICE","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"},{"identifier":"a0c5b58b-0d03-346e-9672-e9974a4fe008","name":"JsonTreeReader","comments":"","type":"org.apache.nifi.json.JsonTreeReader","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.15.3"},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordReaderFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.15.3"}}],"properties":{"Timestamp Format":null,"schema-inference-cache":null,"Date Format":null,"schema-branch":null,"schema-name":"NoaaSchema","schema-registry":"f687a677-63e8-37bc-aa8e-c7a4f02fa6e3","Time Format":null,"schema-access-strategy":"schema-name","schema-version":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false},"schema-inference-cache":{"name":"schema-inference-cache","displayName":"Schema Inference Cache","identifiesControllerService":true,"sensitive":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false},"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"componentType":"CONTROLLER_SERVICE","groupIdentifier":"cdacdb5b-6290-3da2-8732-51d433fd213f"}],"variables":{},"parameterContextName":"Parameter Year 2010","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"0453ab69-179b-341a-9661-66057aafaa8d"},{"identifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"grp_noaa_data_etl 2000","comments":"Process data for year 2000","position":{"x":40.0,"y":400.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"4946fbb0-18fb-365b-a0ab-5cbd8863a1b1","name":"Filter Weather Station Category ID","comments":"","position":{"x":3032.0,"y":416.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","properties":{"file_type_E":"${filename:contains('030910')}","file_type_D":"${filename:contains('037970')}","file_type_C":"${filename:contains('035770')}","Routing Strategy":"Route to Property name","file_type_B":"${filename:contains('035830')}","file_type_F":"${filename:contains('039690')}","file_type_A":"${filename:contains('040180')}"},"propertyDescriptors":{"file_type_E":{"name":"file_type_E","displayName":"file_type_E","identifiesControllerService":false,"sensitive":false},"file_type_D":{"name":"file_type_D","displayName":"file_type_D","identifiesControllerService":false,"sensitive":false},"file_type_C":{"name":"file_type_C","displayName":"file_type_C","identifiesControllerService":false,"sensitive":false},"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"file_type_B":{"name":"file_type_B","displayName":"file_type_B","identifiesControllerService":false,"sensitive":false},"file_type_F":{"name":"file_type_F","displayName":"file_type_F","identifiesControllerService":false,"sensitive":false},"file_type_A":{"name":"file_type_A","displayName":"file_type_A","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["unmatched"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"2437dae9-1b36-3743-845b-c18fb45d142b","name":"List NOAA Data Files","comments":"","position":{"x":3032.0,"y":128.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-aws-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.aws.s3.ListS3","properties":{"write-s3-user-metadata":"false","Proxy Host":null,"list-type":"2","prefix":"#{noaa.isd.prefix}/#{active_year}/","record-writer":null,"proxy-configuration-service":null,"Endpoint Override URL":null,"requester-pays":"false","AWS Credentials Provider service":"8c1d6fa6-01c5-3b86-bed3-30e688b555d3","Listing Batch Size":"100","SSL Context Service":null,"write-s3-object-tags":"false","Signer Override":"Default Signature","Bucket":"noaa-isd-pds","delimiter":"/","Communications Timeout":"30 secs","Region":"us-east-1","Credentials File":null,"min-age":"1 min","proxy-user-name":null,"Proxy Host Port":null,"use-versions":"false"},"propertyDescriptors":{"Proxy Host":{"name":"Proxy Host","displayName":"Proxy Host","identifiesControllerService":false,"sensitive":false},"list-type":{"name":"list-type","displayName":"List Type","identifiesControllerService":false,"sensitive":false},"Access Key":{"name":"Access Key","displayName":"Access Key ID","identifiesControllerService":false,"sensitive":true},"prefix":{"name":"prefix","displayName":"Prefix","identifiesControllerService":false,"sensitive":false},"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false},"Endpoint Override URL":{"name":"Endpoint Override URL","displayName":"Endpoint Override URL","identifiesControllerService":false,"sensitive":false},"requester-pays":{"name":"requester-pays","displayName":"Requester Pays","identifiesControllerService":false,"sensitive":false},"Signer Override":{"name":"Signer Override","displayName":"Signer Override","identifiesControllerService":false,"sensitive":false},"delimiter":{"name":"delimiter","displayName":"Delimiter","identifiesControllerService":false,"sensitive":false},"proxy-user-password":{"name":"proxy-user-password","displayName":"Proxy Password","identifiesControllerService":false,"sensitive":true},"Secret Key":{"name":"Secret Key","displayName":"Secret Access Key","identifiesControllerService":false,"sensitive":true},"min-age":{"name":"min-age","displayName":"Minimum Object Age","identifiesControllerService":false,"sensitive":false},"write-s3-user-metadata":{"name":"write-s3-user-metadata","displayName":"Write User Metadata","identifiesControllerService":false,"sensitive":false},"AWS Credentials Provider service":{"name":"AWS Credentials Provider service","displayName":"AWS Credentials Provider service","identifiesControllerService":true,"sensitive":false},"Listing Batch Size":{"name":"Listing Batch Size","displayName":"Listing Batch Size","identifiesControllerService":false,"sensitive":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"write-s3-object-tags":{"name":"write-s3-object-tags","displayName":"Write Object Tags","identifiesControllerService":false,"sensitive":false},"Bucket":{"name":"Bucket","displayName":"Bucket","identifiesControllerService":false,"sensitive":false},"Communications Timeout":{"name":"Communications Timeout","displayName":"Communications Timeout","identifiesControllerService":false,"sensitive":false},"Region":{"name":"Region","displayName":"Region","identifiesControllerService":false,"sensitive":false},"Credentials File":{"name":"Credentials File","displayName":"Credentials File","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"proxy-user-name":{"name":"proxy-user-name","displayName":"Proxy Username","identifiesControllerService":false,"sensitive":false},"Proxy Host Port":{"name":"Proxy Host Port","displayName":"Proxy Host Port","identifiesControllerService":false,"sensitive":false},"use-versions":{"name":"use-versions","displayName":"Use Versions","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"30 min","schedulingStrategy":"TIMER_DRIVEN","executionNode":"PRIMARY","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"ERROR","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"614bb90e-4c5e-3310-b64d-6d0fb0fe9e99","name":"QueryRecord","comments":"","position":{"x":3032.0,"y":1232.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.QueryRecord","properties":{"cache-schema":"true","dbf-default-precision":"10","record-writer":"af633cbf-1cab-3d52-be42-66a56e10357c","record-reader":"a0c5b58b-0d03-346e-9672-e9974a4fe008","include-zero-record-flowfiles":"false","dbf-default-scale":"3","sql":"SELECT\n  cat_id,\n  CASE\n    WHEN wban = '99999' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      wban\n  END AS wban,\n  obs_date,\n  obs_time,\n  CASE\n    WHEN obs_data_source = '9' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      obs_data_source\n  END AS obs_data_source,\n  CASE\n    WHEN obs_latitude = '99999' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      obs_latitude\n  END AS obs_latitude,\n  CASE\n    WHEN obs_longitude = '99999' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      obs_longitude\n  END AS obs_longitude,\n  CASE\n    WHEN report_code = '99999' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      report_code\n  END AS report_code,\n  obs_elevation,\n  CASE\n    WHEN station_call = '99999' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      station_call\n  END AS station_call,\n  quality_control,\n  CASE\n    WHEN wind_dir_angle = '999' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      wind_dir_angle\n  END AS wind_dir_angle,\n  wind_dir_quality,\n  CASE\n    WHEN wind_type = '9' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      wind_type\n  END AS wind_type,\n  CASE\n    WHEN sky_ceiling = '9999' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      sky_ceiling\n  END AS wind_speed_rate,\n  wind_speed_quality,\n  CASE\n    WHEN sky_ceiling = '99999' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      sky_ceiling\n  END AS sky_ceiling,\n  CASE\n    WHEN sky_ceiling_quality = '9' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      sky_ceiling_quality\n  END AS  sky_ceiling_quality,\n  CASE\n    WHEN sky_ceiling_determination = '9' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      sky_ceiling_determination\n  END AS sky_ceiling_determination,\n  CASE\n    WHEN sky_cavok = '9' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      sky_cavok\n  END AS sky_cavok,\n  CASE\n    WHEN vis_distance = '999999' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      vis_distance\n  END AS vis_distance,\n  vis_distance_quality,\n  CASE\n    WHEN vis_variability = '9' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      vis_variability\n  END AS vis_variability,\n  vis_variability_quality,\n  CASE\n    WHEN air_temp = '9999' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      air_temp\n  END AS air_temp,\n  air_temp_quality,\n  CASE\n    WHEN air_dewpoint_temp = '9999' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      air_dewpoint_temp\n  END AS air_dewpoint_temp,\n  air_dewpoint_temp_quality,\n  CASE\n    WHEN air_pres_msl = '99999' THEN CAST(NULL AS VARCHAR)\n    ELSE\n      air_pres_msl\n  END AS air_pres_msl,\n  air_pres_msl_quality\nFROM FLOWFILE\n"},"propertyDescriptors":{"cache-schema":{"name":"cache-schema","displayName":"Cache Schema","identifiesControllerService":false,"sensitive":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false},"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"include-zero-record-flowfiles":{"name":"include-zero-record-flowfiles","displayName":"Include Zero Record FlowFiles","identifiesControllerService":false,"sensitive":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false},"sql":{"name":"sql","displayName":"sql","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"ERROR","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"bad73edd-bd16-338a-8153-60683429735f","name":"UnCompress Flow-File","comments":"","position":{"x":3032.0,"y":824.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.CompressContent","properties":{"Compression Format":"use mime.type attribute","Mode":"decompress","Compression Level":"1","Update Filename":"true"},"propertyDescriptors":{"Compression Format":{"name":"Compression Format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false},"Mode":{"name":"Mode","displayName":"Mode","identifiesControllerService":false,"sensitive":false},"Compression Level":{"name":"Compression Level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false},"Update Filename":{"name":"Update Filename","displayName":"Update Filename","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"1f3d4cb0-5835-3b4d-a2cb-57382219ee63","name":"GetFile","comments":"","position":{"x":3032.0,"y":1840.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.GetFile","properties":{"Keep Source File":"false","Minimum File Age":"2 mins","Polling Interval":"2 sec","Input Directory":"#{gcs.storage.dir}/#{active_year}","Maximum File Age":null,"Batch Size":"10","Maximum File Size":null,"Minimum File Size":"0 B","Ignore Hidden Files":"true","Recurse Subdirectories":"false","File Filter":"[^\\.]*.json","Path Filter":null},"propertyDescriptors":{"Keep Source File":{"name":"Keep Source File","displayName":"Keep Source File","identifiesControllerService":false,"sensitive":false},"Minimum File Age":{"name":"Minimum File Age","displayName":"Minimum File Age","identifiesControllerService":false,"sensitive":false},"Polling Interval":{"name":"Polling Interval","displayName":"Polling Interval","identifiesControllerService":false,"sensitive":false},"Input Directory":{"name":"Input Directory","displayName":"Input Directory","identifiesControllerService":false,"sensitive":false},"Maximum File Age":{"name":"Maximum File Age","displayName":"Maximum File Age","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Maximum File Size":{"name":"Maximum File Size","displayName":"Maximum File Size","identifiesControllerService":false,"sensitive":false},"Minimum File Size":{"name":"Minimum File Size","displayName":"Minimum File Size","identifiesControllerService":false,"sensitive":false},"Ignore Hidden Files":{"name":"Ignore Hidden Files","displayName":"Ignore Hidden Files","identifiesControllerService":false,"sensitive":false},"Recurse Subdirectories":{"name":"Recurse Subdirectories","displayName":"Recurse Subdirectories","identifiesControllerService":false,"sensitive":false},"File Filter":{"name":"File Filter","displayName":"File Filter","identifiesControllerService":false,"sensitive":false},"Path Filter":{"name":"Path Filter","displayName":"Path Filter","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"PRIMARY","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"f543f4a1-c582-3802-8390-b6ca74c4c979","name":"Parse Fixed-Width to CSV","comments":"","position":{"x":3032.0,"y":952.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.ReplaceText","properties":{"Regular Expression":"(.{4})(.{6})(.{5})(.{8})(.{4})(.{1})(.{6})(.{7})(.{5})(.{5})(.{5})(.{4})(.{3})(.{1})(.{1})(.{4})(.{1})(.{5})(.{1})(.{1})(.{1})(.{6})(.{1})(.{1})(.{1})(.{5})(.{1})(.{5})(.{1})(.{5})(.{1}).*","Replacement Value":"$1|$2|$3|$4|$5|$6|$7|$8|$9|$10|$11|$12|$13|$14|$15|$16|$17|$18|$19|$20|$21|$22|$23|$24|$25|$26|$27|$28|$29|$30|$31","Evaluation Mode":"Line-by-Line","Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace"},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"b8ccc4fa-979d-3372-bce8-d991bec18dc7","name":"LogAttribute","comments":"","position":{"x":3032.0,"y":2120.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.LogAttribute","properties":{"Log prefix":null,"character-set":"UTF-8","Log Level":"info","attributes-to-ignore-regex":null,"Attributes to Ignore":null,"Attributes to Log":null,"attributes-to-log-regex":".*","Log Payload":"false"},"propertyDescriptors":{"Log prefix":{"name":"Log prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false},"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"Log Level":{"name":"Log Level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false},"attributes-to-ignore-regex":{"name":"attributes-to-ignore-regex","displayName":"Attributes to Ignore by Regular Expression","identifiesControllerService":false,"sensitive":false},"Attributes to Ignore":{"name":"Attributes to Ignore","displayName":"Attributes to Ignore","identifiesControllerService":false,"sensitive":false},"Attributes to Log":{"name":"Attributes to Log","displayName":"Attributes to Log","identifiesControllerService":false,"sensitive":false},"attributes-to-log-regex":{"name":"attributes-to-log-regex","displayName":"Attributes to Log by Regular Expression","identifiesControllerService":false,"sensitive":false},"Log Payload":{"name":"Log Payload","displayName":"Log Payload","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"d962675c-8a23-39c1-8847-265230c5db0a","name":"Download Data File","comments":"","position":{"x":3032.0,"y":560.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-aws-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.aws.s3.FetchS3Object","properties":{"Proxy Host":null,"range-length":null,"range-start":null,"proxy-configuration-service":null,"Endpoint Override URL":null,"requester-pays":"false","Object Key":"${filename}","AWS Credentials Provider service":"8c1d6fa6-01c5-3b86-bed3-30e688b555d3","SSL Context Service":null,"Signer Override":"Default Signature","Bucket":"noaa-isd-pds","Version":null,"Communications Timeout":"30 secs","Region":"us-east-1","Credentials File":null,"proxy-user-name":null,"Proxy Host Port":null,"encryption-service":null},"propertyDescriptors":{"Proxy Host":{"name":"Proxy Host","displayName":"Proxy Host","identifiesControllerService":false,"sensitive":false},"range-length":{"name":"range-length","displayName":"Range Length","identifiesControllerService":false,"sensitive":false},"Access Key":{"name":"Access Key","displayName":"Access Key ID","identifiesControllerService":false,"sensitive":true},"range-start":{"name":"range-start","displayName":"Range Start","identifiesControllerService":false,"sensitive":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false},"Endpoint Override URL":{"name":"Endpoint Override URL","displayName":"Endpoint Override URL","identifiesControllerService":false,"sensitive":false},"requester-pays":{"name":"requester-pays","displayName":"Requester Pays","identifiesControllerService":false,"sensitive":false},"Object Key":{"name":"Object Key","displayName":"Object Key","identifiesControllerService":false,"sensitive":false},"AWS Credentials Provider service":{"name":"AWS Credentials Provider service","displayName":"AWS Credentials Provider service","identifiesControllerService":true,"sensitive":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"Signer Override":{"name":"Signer Override","displayName":"Signer Override","identifiesControllerService":false,"sensitive":false},"Bucket":{"name":"Bucket","displayName":"Bucket","identifiesControllerService":false,"sensitive":false},"Version":{"name":"Version","displayName":"Version","identifiesControllerService":false,"sensitive":false},"proxy-user-password":{"name":"proxy-user-password","displayName":"Proxy Password","identifiesControllerService":false,"sensitive":true},"Communications Timeout":{"name":"Communications Timeout","displayName":"Communications Timeout","identifiesControllerService":false,"sensitive":false},"Region":{"name":"Region","displayName":"Region","identifiesControllerService":false,"sensitive":false},"Secret Key":{"name":"Secret Key","displayName":"Secret Access Key","identifiesControllerService":false,"sensitive":true},"Credentials File":{"name":"Credentials File","displayName":"Credentials File","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"proxy-user-name":{"name":"proxy-user-name","displayName":"Proxy Username","identifiesControllerService":false,"sensitive":false},"Proxy Host Port":{"name":"Proxy Host Port","displayName":"Proxy Host Port","identifiesControllerService":false,"sensitive":false},"encryption-service":{"name":"encryption-service","displayName":"Encryption Service","identifiesControllerService":true,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"ERROR","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"70ac7292-2cc7-3407-88d8-64846d28565b","name":"IdentifyMimeType","comments":"","position":{"x":3032.0,"y":696.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.IdentifyMimeType","properties":{"config-file":null,"use-filename-in-detection":"true","config-body":null},"propertyDescriptors":{"config-file":{"name":"config-file","displayName":"Config File","identifiesControllerService":false,"sensitive":false},"use-filename-in-detection":{"name":"use-filename-in-detection","displayName":"Use Filename In Detection","identifiesControllerService":false,"sensitive":false},"config-body":{"name":"config-body","displayName":"Config Body","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"a68d08b1-f3d5-393f-b260-5ddc4e948dbc","name":"UpdateAttribute","comments":"","position":{"x":3032.0,"y":1504.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","properties":{"Delete Attributes Expression":null,"filename":"${UUID()}.json","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"filename":{"name":"filename","displayName":"filename","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"5d4adfae-2288-38d4-b4ac-0f3bd95ce908","name":"PutGCSObject","comments":"","position":{"x":3032.0,"y":1976.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-gcp-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.gcp.storage.PutGCSObject","properties":{"gcp-proxy-host":null,"gcs-content-disposition-type":null,"gcp-retry-count":"6","proxy-configuration-service":null,"gcs-overwrite-object":"true","gcp-proxy-user-name":null,"gcs-object-md5":null,"gcs-content-type":"${mime.type}","gcs-object-crc32c":null,"gcp-project-id":"dtc-de-338616","GCP Credentials Provider Service":"5728e3c5-fe5a-363a-8a75-f3bcad18991c","gcs-key":"#{active_year}/${filename}","gcp-proxy-port":null,"gcs-bucket":"#{gcs.bucket.noaa}","gcs-object-acl":null},"propertyDescriptors":{"gcp-proxy-host":{"name":"gcp-proxy-host","displayName":"Proxy host","identifiesControllerService":false,"sensitive":false},"gcs-content-disposition-type":{"name":"gcs-content-disposition-type","displayName":"Content Disposition Type","identifiesControllerService":false,"sensitive":false},"gcp-retry-count":{"name":"gcp-retry-count","displayName":"Number of retries","identifiesControllerService":false,"sensitive":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false},"gcs-server-side-encryption-key":{"name":"gcs-server-side-encryption-key","displayName":"Server Side Encryption Key","identifiesControllerService":false,"sensitive":true},"gcs-overwrite-object":{"name":"gcs-overwrite-object","displayName":"Overwrite Object","identifiesControllerService":false,"sensitive":false},"gcp-proxy-user-name":{"name":"gcp-proxy-user-name","displayName":"HTTP Proxy Username","identifiesControllerService":false,"sensitive":false},"gcs-object-md5":{"name":"gcs-object-md5","displayName":"MD5 Hash","identifiesControllerService":false,"sensitive":false},"gcs-content-type":{"name":"gcs-content-type","displayName":"Content Type","identifiesControllerService":false,"sensitive":false},"gcs-object-crc32c":{"name":"gcs-object-crc32c","displayName":"CRC32C Checksum","identifiesControllerService":false,"sensitive":false},"gcp-project-id":{"name":"gcp-project-id","displayName":"Project ID","identifiesControllerService":false,"sensitive":false},"GCP Credentials Provider Service":{"name":"GCP Credentials Provider Service","displayName":"GCP Credentials Provider Service","identifiesControllerService":true,"sensitive":false},"gcs-key":{"name":"gcs-key","displayName":"Key","identifiesControllerService":false,"sensitive":false},"gcp-proxy-user-password":{"name":"gcp-proxy-user-password","displayName":"HTTP Proxy Password","identifiesControllerService":false,"sensitive":true},"gcp-proxy-port":{"name":"gcp-proxy-port","displayName":"Proxy port","identifiesControllerService":false,"sensitive":false},"gcs-bucket":{"name":"gcs-bucket","displayName":"Bucket","identifiesControllerService":false,"sensitive":false},"gcs-object-acl":{"name":"gcs-object-acl","displayName":"Object ACL","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"754bafac-b2ca-366e-8b1a-a952c6fa20c2","name":"PutFile","comments":"","position":{"x":3032.0,"y":1648.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.PutFile","properties":{"Group":null,"Owner":null,"Create Missing Directories":"true","Permissions":null,"Maximum File Count":null,"Last Modified Time":null,"Directory":"#{noaa.isd.staging}/#{active_year}","Conflict Resolution Strategy":"replace"},"propertyDescriptors":{"Group":{"name":"Group","displayName":"Group","identifiesControllerService":false,"sensitive":false},"Owner":{"name":"Owner","displayName":"Owner","identifiesControllerService":false,"sensitive":false},"Create Missing Directories":{"name":"Create Missing Directories","displayName":"Create Missing Directories","identifiesControllerService":false,"sensitive":false},"Permissions":{"name":"Permissions","displayName":"Permissions","identifiesControllerService":false,"sensitive":false},"Maximum File Count":{"name":"Maximum File Count","displayName":"Maximum File Count","identifiesControllerService":false,"sensitive":false},"Last Modified Time":{"name":"Last Modified Time","displayName":"Last Modified Time","identifiesControllerService":false,"sensitive":false},"Directory":{"name":"Directory","displayName":"Directory","identifiesControllerService":false,"sensitive":false},"Conflict Resolution Strategy":{"name":"Conflict Resolution Strategy","displayName":"Conflict Resolution Strategy","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"ERROR","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"0f85c141-8049-393b-b91d-9e656ed083b2","name":"MergeRecord","comments":"","position":{"x":3032.0,"y":1368.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.MergeRecord","properties":{"max-bin-age":null,"correlation-attribute-name":null,"Attribute Strategy":"Keep Only Common Attributes","min-records":"1","max-bin-size":null,"record-writer":"af633cbf-1cab-3d52-be42-66a56e10357c","merge-strategy":"Bin-Packing Algorithm","record-reader":"a0c5b58b-0d03-346e-9672-e9974a4fe008","max-records":"1000","min-bin-size":"0 B","max.bin.count":"5"},"propertyDescriptors":{"max-bin-age":{"name":"max-bin-age","displayName":"Max Bin Age","identifiesControllerService":false,"sensitive":false},"correlation-attribute-name":{"name":"correlation-attribute-name","displayName":"Correlation Attribute Name","identifiesControllerService":false,"sensitive":false},"Attribute Strategy":{"name":"Attribute Strategy","displayName":"Attribute Strategy","identifiesControllerService":false,"sensitive":false},"min-records":{"name":"min-records","displayName":"Minimum Number of Records","identifiesControllerService":false,"sensitive":false},"max-bin-size":{"name":"max-bin-size","displayName":"Maximum Bin Size","identifiesControllerService":false,"sensitive":false},"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"merge-strategy":{"name":"merge-strategy","displayName":"Merge Strategy","identifiesControllerService":false,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"max-records":{"name":"max-records","displayName":"Maximum Number of Records","identifiesControllerService":false,"sensitive":false},"min-bin-size":{"name":"min-bin-size","displayName":"Minimum Bin Size","identifiesControllerService":false,"sensitive":false},"max.bin.count":{"name":"max.bin.count","displayName":"Maximum Number of Bins","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"9088016c-1563-3a72-8529-f75be4a714d7","name":"Control Data Flow Rate","comments":"","position":{"x":3032.0,"y":264.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.ControlRate","properties":{"Time Duration":"1 min","Grouping Attribute":null,"Maximum Rate":"500","Rate Controlled Attribute":null,"Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"name":"Time Duration","displayName":"Time Duration","identifiesControllerService":false,"sensitive":false},"Grouping Attribute":{"name":"Grouping Attribute","displayName":"Grouping Attribute","identifiesControllerService":false,"sensitive":false},"Maximum Rate":{"name":"Maximum Rate","displayName":"Maximum Rate","identifiesControllerService":false,"sensitive":false},"Rate Controlled Attribute":{"name":"Rate Controlled Attribute","displayName":"Rate Controlled Attribute","identifiesControllerService":false,"sensitive":false},"Rate Control Criteria":{"name":"Rate Control Criteria","displayName":"Rate Control Criteria","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"ERROR","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"c3b4c1a8-641d-30d1-9209-438baf877441","name":"Terminator","comments":"","position":{"x":4064.0,"y":984.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.15.3"},"style":{"background-color":"#b3716e"},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"8eeaef4e-7863-312f-8f6f-9cadb7e600f5","name":"Convert CSV Record to  JSON","comments":"","position":{"x":3032.0,"y":1096.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.ConvertRecord","properties":{"record-writer":"af633cbf-1cab-3d52-be42-66a56e10357c","record-reader":"2c687141-0863-3845-b5d0-cd5bf282fdf7","include-zero-record-flowfiles":"false"},"propertyDescriptors":{"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"include-zero-record-flowfiles":{"name":"include-zero-record-flowfiles","displayName":"Include Zero Record FlowFiles","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"}],"inputPorts":[],"outputPorts":[],"connections":[{"identifier":"70e62f80-c499-377d-9a73-a31b9bb412c1","name":"","source":{"id":"8eeaef4e-7863-312f-8f6f-9cadb7e600f5","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"Convert CSV Record to  JSON","comments":""},"destination":{"id":"c3b4c1a8-641d-30d1-9209-438baf877441","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"Terminator","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":3648.0,"y":1168.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"02b8bdde-fa1f-3b5b-a39b-509c061f9a4c","name":"","source":{"id":"bad73edd-bd16-338a-8153-60683429735f","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"UnCompress Flow-File","comments":""},"destination":{"id":"c3b4c1a8-641d-30d1-9209-438baf877441","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"Terminator","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":3944.0,"y":880.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"f6d81712-5db2-364b-be7e-be0c298b971d","name":"","source":{"id":"9088016c-1563-3a72-8529-f75be4a714d7","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"Control Data Flow Rate","comments":""},"destination":{"id":"c3b4c1a8-641d-30d1-9209-438baf877441","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"Terminator","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":4064.0,"y":328.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"660950f1-b78c-365a-8b5b-364645008a8d","name":"","source":{"id":"0f85c141-8049-393b-b91d-9e656ed083b2","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"MergeRecord","comments":""},"destination":{"id":"a68d08b1-f3d5-393f-b260-5ddc4e948dbc","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"UpdateAttribute","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["merged"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2776.0,"y":1520.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"83813731-30ac-3d47-af78-2c4acd847bce","name":"","source":{"id":"754bafac-b2ca-366e-8b1a-a952c6fa20c2","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"PutFile","comments":""},"destination":{"id":"c3b4c1a8-641d-30d1-9209-438baf877441","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"Terminator","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":4160.0,"y":1560.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"64d5db2a-5ff5-304a-8383-5c0cea98f2c4","name":"","source":{"id":"d962675c-8a23-39c1-8847-265230c5db0a","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"Download Data File","comments":""},"destination":{"id":"c3b4c1a8-641d-30d1-9209-438baf877441","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"Terminator","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":3968.0,"y":624.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"af6168ab-1e69-309f-87fa-49afb620d941","name":"","source":{"id":"bad73edd-bd16-338a-8153-60683429735f","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"UnCompress Flow-File","comments":""},"destination":{"id":"f543f4a1-c582-3802-8390-b6ca74c4c979","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"Parse Fixed-Width to CSV","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2792.0,"y":968.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"33376a8f-cac3-3ff6-9916-2694212df912","name":"","source":{"id":"614bb90e-4c5e-3310-b64d-6d0fb0fe9e99","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"QueryRecord","comments":""},"destination":{"id":"0f85c141-8049-393b-b91d-9e656ed083b2","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"MergeRecord","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["sql"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2776.0,"y":1328.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"5a257d9d-5199-34aa-b9d6-ee20a1193933","name":"","source":{"id":"614bb90e-4c5e-3310-b64d-6d0fb0fe9e99","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"QueryRecord","comments":""},"destination":{"id":"c3b4c1a8-641d-30d1-9209-438baf877441","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"Terminator","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":3752.0,"y":1176.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"c49996a4-8a52-3902-b9a2-9e03414057a0","name":"","source":{"id":"5d4adfae-2288-38d4-b4ac-0f3bd95ce908","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"PutGCSObject","comments":""},"destination":{"id":"b8ccc4fa-979d-3372-bce8-d991bec18dc7","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"LogAttribute","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2872.0,"y":2128.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"e8d868fa-23e7-3797-85ac-829ed5143e9b","name":"","source":{"id":"8eeaef4e-7863-312f-8f6f-9cadb7e600f5","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"Convert CSV Record to  JSON","comments":""},"destination":{"id":"614bb90e-4c5e-3310-b64d-6d0fb0fe9e99","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"QueryRecord","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2776.0,"y":1224.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"2438efd8-16f3-325b-bde3-be552c776032","name":"","source":{"id":"4946fbb0-18fb-365b-a0ab-5cbd8863a1b1","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"Filter Weather Station Category ID","comments":""},"destination":{"id":"d962675c-8a23-39c1-8847-265230c5db0a","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"Download Data File","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["file_type_E","file_type_D","file_type_C","file_type_B","file_type_F","file_type_A"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2816.0,"y":560.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"0e7fd39e-fcce-33d0-8b6e-08b73a79044c","name":"","source":{"id":"9088016c-1563-3a72-8529-f75be4a714d7","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"Control Data Flow Rate","comments":""},"destination":{"id":"4946fbb0-18fb-365b-a0ab-5cbd8863a1b1","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"Filter Weather Station Category ID","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2824.0,"y":400.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"32b254e7-40bd-3aa4-b32d-4445ec60dd8d","name":"","source":{"id":"a68d08b1-f3d5-393f-b260-5ddc4e948dbc","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"UpdateAttribute","comments":""},"destination":{"id":"754bafac-b2ca-366e-8b1a-a952c6fa20c2","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"PutFile","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2768.0,"y":1672.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"0e8917cf-9b2d-301f-b7b2-324e8886d25b","name":"","source":{"id":"0f85c141-8049-393b-b91d-9e656ed083b2","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"MergeRecord","comments":""},"destination":{"id":"c3b4c1a8-641d-30d1-9209-438baf877441","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"Terminator","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":3896.0,"y":1384.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"69e4b0b5-5045-32b6-9f08-f34d3b6ace6f","name":"","source":{"id":"1f3d4cb0-5835-3b4d-a2cb-57382219ee63","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"GetFile","comments":""},"destination":{"id":"5d4adfae-2288-38d4-b4ac-0f3bd95ce908","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"PutGCSObject","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2872.0,"y":1976.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"d9709381-13db-3d23-9f83-ced569c22ab2","name":"","source":{"id":"f543f4a1-c582-3802-8390-b6ca74c4c979","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"Parse Fixed-Width to CSV","comments":""},"destination":{"id":"8eeaef4e-7863-312f-8f6f-9cadb7e600f5","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"Convert CSV Record to  JSON","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2784.0,"y":1080.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"07374e41-44aa-3ea0-b45a-269160ee0bd6","name":"","source":{"id":"f543f4a1-c582-3802-8390-b6ca74c4c979","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"Parse Fixed-Width to CSV","comments":""},"destination":{"id":"c3b4c1a8-641d-30d1-9209-438baf877441","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"Terminator","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":3656.0,"y":1096.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"04777c5f-088a-3728-93ba-7c4b83f5a17e","name":"","source":{"id":"2437dae9-1b36-3743-845b-c18fb45d142b","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"List NOAA Data Files","comments":""},"destination":{"id":"9088016c-1563-3a72-8529-f75be4a714d7","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"Control Data Flow Rate","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2840.0,"y":240.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"88bbce0b-5dd6-35da-9367-2461b63a8e39","name":"","source":{"id":"70ac7292-2cc7-3407-88d8-64846d28565b","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"IdentifyMimeType","comments":""},"destination":{"id":"bad73edd-bd16-338a-8153-60683429735f","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"UnCompress Flow-File","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2800.0,"y":832.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"9bcf8a15-15dd-34af-b624-606a728540a1","name":"","source":{"id":"d962675c-8a23-39c1-8847-265230c5db0a","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"Download Data File","comments":""},"destination":{"id":"70ac7292-2cc7-3407-88d8-64846d28565b","type":"PROCESSOR","groupId":"b37c6711-4d9c-32cd-9045-3da637a0cee0","name":"IdentifyMimeType","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"bends":[{"x":2808.0,"y":688.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"}],"labels":[{"identifier":"e952ed19-b936-3ecd-ab71-9f689960cf9a","position":{"x":4256.0,"y":1136.0},"label":"Log status and terminate flow.","width":304.0,"height":64.0,"style":{"font-size":"18px"},"componentType":"LABEL","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"5f8112f0-6717-3b12-9864-366ddb43e864","position":{"x":3400.0,"y":424.0},"label":"Fetch the Gzip compressed files from AWS S3.","width":536.0,"height":80.0,"style":{"font-size":"18px"},"componentType":"LABEL","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"445524a4-d7de-39c6-b119-f12a13e61641","position":{"x":3392.0,"y":1280.0},"label":"Select flow-file and convert missing data indicator '9999' values to NULL.","width":616.0,"height":72.0,"style":{"font-size":"18px"},"componentType":"LABEL","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"0ec0ac90-f93c-3d50-95b5-29d0b648bf27","position":{"x":3400.0,"y":336.0},"label":"Limit download control rate. \nFilter on category-ID/file-prefix \"040180\" and \"035830\".","width":536.0,"height":64.0,"style":{"font-size":"18px"},"componentType":"LABEL","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"9eeeac5c-f0bc-328a-b979-1b8b325392a0","position":{"x":3392.0,"y":1432.0},"label":"Combine individual flow-file records into batches of 1000 records.","width":568.0,"height":64.0,"style":{"font-size":"18px"},"componentType":"LABEL","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"79a9989e-d574-313f-af6b-69c292897545","position":{"x":3392.0,"y":1704.0},"label":"Save the flow-file to the UNIX file system.","width":544.0,"height":56.0,"style":{"font-size":"18px"},"componentType":"LABEL","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"77cb520f-f3cc-35e1-9ee2-40d9ba4b0891","position":{"x":3392.0,"y":1840.0},"label":"Get previously downloaded JSON files and \nUpload processed files to GCS bucket.","width":552.0,"height":408.0,"style":{"font-size":"18px"},"componentType":"LABEL","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"44abc39d-3d2f-3b03-9050-61cb86cb6acc","position":{"x":3392.0,"y":1504.0},"label":"Set a UUID random file name for the output batches.","width":568.0,"height":48.0,"style":{"font-size":"18px"},"componentType":"LABEL","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"6b1e2db0-3f20-3fe7-85df-47861a7ead28","position":{"x":3400.0,"y":120.0},"label":"List the data available on AWS S3 for the year 2020.","width":496.0,"height":80.0,"style":{"font-size":"18px"},"componentType":"LABEL","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"80584577-32cd-343c-8a94-9572cb113cfd","position":{"x":3392.0,"y":712.0},"label":"Identify the type of file-compression (mime type) \nthen uncompress / gunzip the downloaded files.","width":544.0,"height":80.0,"style":{"font-size":"18px"},"componentType":"LABEL","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"b7c3b2fb-35b0-3174-9436-ea3faa971a4a","position":{"x":2856.0,"y":-96.0},"label":"DTC Data Engineering Zoom Camp\nFebruary 2022\n\n\nNOAA Integrated Surface Database (ISD) ","width":776.0,"height":144.0,"style":{"font-size":"20px"},"componentType":"LABEL","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"0f957e99-3643-32c6-868d-574f275716be","position":{"x":3392.0,"y":960.0},"label":"The uncompressed fixed-width files are converted \nto pipe-delimited.\n\nhttps://www.ncei.noaa.gov/data/global-hourly/doc/isd-format-document.pdf","width":640.0,"height":104.0,"style":{"font-size":"18px"},"componentType":"LABEL","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"}],"funnels":[],"controllerServices":[{"identifier":"af633cbf-1cab-3d52-be42-66a56e10357c","name":"JsonRecordSetWriter","comments":"","type":"org.apache.nifi.json.JsonRecordSetWriter","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.15.3"},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordSetWriterFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.15.3"}}],"properties":{"schema-branch":null,"compression-level":"1","schema-cache":null,"Timestamp Format":null,"Date Format":null,"Pretty Print JSON":"false","compression-format":"none","Schema Write Strategy":"schema-name","suppress-nulls":"never-suppress","output-grouping":"output-oneline","schema-name":"NoaaSchema","schema-registry":"f687a677-63e8-37bc-aa8e-c7a4f02fa6e3","Time Format":null,"schema-access-strategy":"schema-name","schema-protocol-version":"1","schema-version":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"compression-level":{"name":"compression-level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false},"schema-cache":{"name":"schema-cache","displayName":"Schema Cache","identifiesControllerService":true,"sensitive":false},"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false},"Pretty Print JSON":{"name":"Pretty Print JSON","displayName":"Pretty Print JSON","identifiesControllerService":false,"sensitive":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false},"Schema Write Strategy":{"name":"Schema Write Strategy","displayName":"Schema Write Strategy","identifiesControllerService":false,"sensitive":false},"suppress-nulls":{"name":"suppress-nulls","displayName":"Suppress Null Values","identifiesControllerService":false,"sensitive":false},"output-grouping":{"name":"output-grouping","displayName":"Output Grouping","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-protocol-version":{"name":"schema-protocol-version","displayName":"Schema Protocol Version","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"componentType":"CONTROLLER_SERVICE","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"f687a677-63e8-37bc-aa8e-c7a4f02fa6e3","name":"AvroSchemaRegistry","comments":"","type":"org.apache.nifi.schemaregistry.services.AvroSchemaRegistry","bundle":{"group":"org.apache.nifi","artifact":"nifi-registry-nar","version":"1.15.3"},"controllerServiceApis":[{"type":"org.apache.nifi.schemaregistry.services.SchemaRegistry","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.15.3"}}],"properties":{"OutputSchemaNoaa":"{     \"type\": \"record\",\n     \"namespace\": \"measurements\",\n     \"name\": \"measurement\",\n     \"fields\": [\n         {\"name\": \"tot_var_chars\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"cat_id\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wban\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_date\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_time\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_data_source\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_latitude\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"obs_longitude\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"report_code\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_elevation\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"station_call\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"quality_control\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wind_dir_angle\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"wind_dir_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wind_type\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wind_speed_rate\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wind_speed_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"sky_ceiling\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"sky_ceiling_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"sky_ceiling_determination\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"sky_cavok\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"vis_distance\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"vis_distance_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"vis_variability\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"vis_variability_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"air_temp\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"air_temp_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"air_dewpoint_temp\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"air_dewpoint_temp_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"air_pres_msl\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"air_pres_msl_quality\",\"type\": [\"string\",\"null\"]}\n ]\n}","NoaaSchema":"{     \"type\": \"record\",\n     \"namespace\": \"measurements\",\n     \"name\": \"measurement\",\n     \"fields\": [\n         {\"name\": \"tot_var_chars\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"cat_id\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wban\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_date\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_time\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_data_source\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_latitude\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"obs_longitude\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"report_code\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_elevation\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"station_call\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"quality_control\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wind_dir_angle\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"wind_dir_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wind_type\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wind_speed_rate\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wind_speed_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"sky_ceiling\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"sky_ceiling_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"sky_ceiling_determination\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"sky_cavok\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"vis_distance\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"vis_distance_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"vis_variability\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"vis_variability_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"air_temp\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"air_temp_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"air_dewpoint_temp\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"air_dewpoint_temp_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"air_pres_msl\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"air_pres_msl_quality\",\"type\": [\"string\",\"null\"]}\n ]\n}","avro-reg-validated-field-names":"true","InputSchemaNoaa":"{     \"type\": \"record\",\n     \"namespace\": \"measurements\",\n     \"name\": \"measurement\",\n     \"fields\": [\n         {\"name\": \"tot_var_chars\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"cat_id\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wban\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_date\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_time\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_data_source\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_latitude\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"obs_longitude\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"report_code\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_elevation\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"station_call\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"quality_control\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wind_dir_angle\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"wind_dir_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wind_type\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wind_speed_rate\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wind_speed_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"sky_ceiling\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"sky_ceiling_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"sky_ceiling_determination\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"sky_cavok\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"vis_distance\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"vis_distance_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"vis_variability\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"vis_variability_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"air_temp\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"air_temp_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"air_dewpoint_temp\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"air_dewpoint_temp_quality\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"air_pres_msl\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"air_pres_msl_quality\",\"type\": [\"string\",\"null\"]}\n ]\n}","OutputSchemaSmall":"{     \"type\": \"record\",\n     \"namespace\": \"measurements\",\n     \"name\": \"measurement\",\n     \"fields\": [\n         {\"name\": \"cat_id\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"wban\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_date\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_time\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_data_source\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_latitude\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"obs_longitude\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"report_code\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"obs_elevation\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"station_call\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"quality_control\",\"type\": [\"string\",\"null\"]},\n         {\"name\": \"air_temp\",\"type\": [\"float\",\"null\"]},\n         {\"name\": \"air_temp_quality\",\"type\": [\"string\",\"null\"]}\n ]\n}","OutputSchemaMovies":"{     \"type\": \"record\",\n     \"namespace\": \"movies\",\n     \"name\": \"movie\",\n     \"fields\": [\n\n       { \"name\": \"user_id\", \"type\": [\"int\", \"null\"] },\n       { \"name\": \"movie_id\", \"type\": [\"int\", \"null\"] },\n       { \"name\": \"rating\", \"type\": [\"int\", \"null\"] }\n     ]\n}"},"propertyDescriptors":{"OutputSchemaNoaa":{"name":"OutputSchemaNoaa","displayName":"OutputSchemaNoaa","identifiesControllerService":false,"sensitive":false},"NoaaSchema":{"name":"NoaaSchema","displayName":"NoaaSchema","identifiesControllerService":false,"sensitive":false},"avro-reg-validated-field-names":{"name":"avro-reg-validated-field-names","displayName":"Validate Field Names","identifiesControllerService":false,"sensitive":false},"InputSchemaNoaa":{"name":"InputSchemaNoaa","displayName":"InputSchemaNoaa","identifiesControllerService":false,"sensitive":false},"OutputSchemaSmall":{"name":"OutputSchemaSmall","displayName":"OutputSchemaSmall","identifiesControllerService":false,"sensitive":false},"OutputSchemaMovies":{"name":"OutputSchemaMovies","displayName":"OutputSchemaMovies","identifiesControllerService":false,"sensitive":false}},"componentType":"CONTROLLER_SERVICE","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"2c687141-0863-3845-b5d0-cd5bf282fdf7","name":"CSVReader","comments":"","type":"org.apache.nifi.csv.CSVReader","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.15.3"},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordReaderFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.15.3"}}],"properties":{"ignore-csv-header":"false","schema-branch":null,"CSV Format":"custom","Quote Character":"\"","csvutils-allow-duplicate-header-names":"true","Value Separator":"|","Record Separator":"\\n","Timestamp Format":null,"Escape Character":"\\","Date Format":null,"Null String":null,"Skip Header Line":"false","Trim Fields":"true","schema-name":"NoaaSchema","schema-registry":"f687a677-63e8-37bc-aa8e-c7a4f02fa6e3","csv-reader-csv-parser":"commons-csv","Time Format":null,"Comment Marker":null,"schema-access-strategy":"schema-name","schema-version":null,"csvutils-character-set":"UTF-8","schema-text":"${avro.schema}"},"propertyDescriptors":{"ignore-csv-header":{"name":"ignore-csv-header","displayName":"Ignore CSV Header Column Names","identifiesControllerService":false,"sensitive":false},"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"CSV Format":{"name":"CSV Format","displayName":"CSV Format","identifiesControllerService":false,"sensitive":false},"Quote Character":{"name":"Quote Character","displayName":"Quote Character","identifiesControllerService":false,"sensitive":false},"csvutils-allow-duplicate-header-names":{"name":"csvutils-allow-duplicate-header-names","displayName":"Allow Duplicate Header Names","identifiesControllerService":false,"sensitive":false},"Value Separator":{"name":"Value Separator","displayName":"Value Separator","identifiesControllerService":false,"sensitive":false},"Record Separator":{"name":"Record Separator","displayName":"Record Separator","identifiesControllerService":false,"sensitive":false},"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false},"Escape Character":{"name":"Escape Character","displayName":"Escape Character","identifiesControllerService":false,"sensitive":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false},"Null String":{"name":"Null String","displayName":"Null String","identifiesControllerService":false,"sensitive":false},"Skip Header Line":{"name":"Skip Header Line","displayName":"Treat First Line as Header","identifiesControllerService":false,"sensitive":false},"Trim Fields":{"name":"Trim Fields","displayName":"Trim Fields","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"csv-reader-csv-parser":{"name":"csv-reader-csv-parser","displayName":"CSV Parser","identifiesControllerService":false,"sensitive":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false},"Comment Marker":{"name":"Comment Marker","displayName":"Comment Marker","identifiesControllerService":false,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"csvutils-character-set":{"name":"csvutils-character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"componentType":"CONTROLLER_SERVICE","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"5728e3c5-fe5a-363a-8a75-f3bcad18991c","name":"GCPCredentialsControllerService","comments":"","type":"org.apache.nifi.processors.gcp.credentials.service.GCPCredentialsControllerService","bundle":{"group":"org.apache.nifi","artifact":"nifi-gcp-nar","version":"1.15.3"},"controllerServiceApis":[{"type":"org.apache.nifi.gcp.credentials.service.GCPCredentialsService","bundle":{"group":"org.apache.nifi","artifact":"nifi-gcp-services-api-nar","version":"1.15.3"}}],"properties":{"proxy-configuration-service":null,"compute-engine-credentials":"false","application-default-credentials":"false","service-account-json-file":"#{gcp.credentials}"},"propertyDescriptors":{"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false},"compute-engine-credentials":{"name":"compute-engine-credentials","displayName":"Use Compute Engine Credentials","identifiesControllerService":false,"sensitive":false},"application-default-credentials":{"name":"application-default-credentials","displayName":"Use Application Default Credentials","identifiesControllerService":false,"sensitive":false},"service-account-json-file":{"name":"service-account-json-file","displayName":"Service Account JSON File","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"service-account-json":{"name":"service-account-json","displayName":"Service Account JSON","identifiesControllerService":false,"sensitive":true}},"componentType":"CONTROLLER_SERVICE","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"8c1d6fa6-01c5-3b86-bed3-30e688b555d3","name":"AWSCredentialsProviderControllerService","comments":"","type":"org.apache.nifi.processors.aws.credentials.provider.service.AWSCredentialsProviderControllerService","bundle":{"group":"org.apache.nifi","artifact":"nifi-aws-nar","version":"1.15.3"},"controllerServiceApis":[{"type":"org.apache.nifi.processors.aws.credentials.provider.service.AWSCredentialsProviderService","bundle":{"group":"org.apache.nifi","artifact":"nifi-aws-service-api-nar","version":"1.15.3"}}],"properties":{"profile-name":null,"Assume Role Session Name":null,"assume-role-sts-endpoint":null,"assume-role-proxy-host":null,"Credentials File":null,"default-credentials":"false","Session Time":"3600","assume-role-proxy-port":null,"assume-role-external-id":null,"Assume Role ARN":null,"anonymous-credentials":"true"},"propertyDescriptors":{"profile-name":{"name":"profile-name","displayName":"Profile Name","identifiesControllerService":false,"sensitive":false},"Access Key":{"name":"Access Key","displayName":"Access Key ID","identifiesControllerService":false,"sensitive":true},"assume-role-proxy-host":{"name":"assume-role-proxy-host","displayName":"Assume Role Proxy Host","identifiesControllerService":false,"sensitive":false},"default-credentials":{"name":"default-credentials","displayName":"Use Default Credentials","identifiesControllerService":false,"sensitive":false},"Session Time":{"name":"Session Time","displayName":"Session Time","identifiesControllerService":false,"sensitive":false},"assume-role-proxy-port":{"name":"assume-role-proxy-port","displayName":"Assume Role Proxy Port","identifiesControllerService":false,"sensitive":false},"Assume Role ARN":{"name":"Assume Role ARN","displayName":"Assume Role ARN","identifiesControllerService":false,"sensitive":false},"Assume Role Session Name":{"name":"Assume Role Session Name","displayName":"Assume Role Session Name","identifiesControllerService":false,"sensitive":false},"assume-role-sts-endpoint":{"name":"assume-role-sts-endpoint","displayName":"Assume Role STS Endpoint","identifiesControllerService":false,"sensitive":false},"Secret Key":{"name":"Secret Key","displayName":"Secret Access Key","identifiesControllerService":false,"sensitive":true},"Credentials File":{"name":"Credentials File","displayName":"Credentials File","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"assume-role-external-id":{"name":"assume-role-external-id","displayName":"Assume Role External ID","identifiesControllerService":false,"sensitive":false},"anonymous-credentials":{"name":"anonymous-credentials","displayName":"Use Anonymous Credentials","identifiesControllerService":false,"sensitive":false}},"componentType":"CONTROLLER_SERVICE","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"},{"identifier":"a0c5b58b-0d03-346e-9672-e9974a4fe008","name":"JsonTreeReader","comments":"","type":"org.apache.nifi.json.JsonTreeReader","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.15.3"},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordReaderFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.15.3"}}],"properties":{"Timestamp Format":null,"schema-inference-cache":null,"Date Format":null,"schema-branch":null,"schema-name":"NoaaSchema","schema-registry":"f687a677-63e8-37bc-aa8e-c7a4f02fa6e3","Time Format":null,"schema-access-strategy":"schema-name","schema-version":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false},"schema-inference-cache":{"name":"schema-inference-cache","displayName":"Schema Inference Cache","identifiesControllerService":true,"sensitive":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false},"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"componentType":"CONTROLLER_SERVICE","groupIdentifier":"b37c6711-4d9c-32cd-9045-3da637a0cee0"}],"variables":{},"parameterContextName":"Parameter Year 2000","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"0453ab69-179b-341a-9661-66057aafaa8d"}],"remoteProcessGroups":[],"processors":[],"inputPorts":[],"outputPorts":[],"connections":[],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"NOAA ISD","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP"},"externalControllerServices":{},"parameterContexts":{"NOAA ISD":{"name":"NOAA ISD","parameters":[{"name":"noaa.isd.bucket","description":"noaa.isd.bucket","sensitive":false,"value":"noaa-isd-pds"},{"name":"gcs.bucket","description":"","sensitive":false,"value":"dtc_de_data_lake_ptk"},{"name":"noaa.isd.staging","description":"","sensitive":false,"value":"/opt/nifi/data"},{"name":"gcs.bucket.noaa","description":"GCS Bucket","sensitive":false,"value":"dtc_de_data_lake_ptk"},{"name":"gcp.credentials","description":"","sensitive":false,"value":"/opt/nifi/.google/credentials/google_credentials.json"},{"name":"noaa_isd_region","description":"","sensitive":false,"value":"us-east-1"},{"name":"noaa.isd.prefix","description":"","sensitive":false,"value":"data"},{"name":"noaa.isd.region","description":"","sensitive":false,"value":"us-east-1"},{"name":"gcs.storage.dir","description":"","sensitive":false,"value":"/opt/nifi/data"},{"name":"noaa_isd_bucket","description":"LAUNCH NiFi on skunkworks","sensitive":false,"value":"noaa-isd-pds"}],"inheritedParameterContexts":[]},"Parameter Year 2000":{"name":"Parameter Year 2000","parameters":[{"name":"active_year","description":"Active Year 2000","sensitive":false,"value":"2000"}],"inheritedParameterContexts":["NOAA ISD"]},"Parameter Year 2010":{"name":"Parameter Year 2010","parameters":[{"name":"active_year","description":"Active year 2010","sensitive":false,"value":"2010"}],"inheritedParameterContexts":["NOAA ISD"]},"Parameter Year 2020":{"name":"Parameter Year 2020","parameters":[{"name":"active_year","description":"Year 2020","sensitive":false,"value":"2020"}],"inheritedParameterContexts":["NOAA ISD"]}},"flowEncodingVersion":"1.0"}